{"version":3,"sources":["./src/app/page/work-plan/risk-assessment/risk-evaluation-edit/risk-evaluation-edit.page.ts","./src/app/page/work-plan/risk-assessment/risk-evaluation-edit/risk-evaluation-edit.page.scss","./src/app/page/work-plan/risk-assessment/risk-evaluation-edit/risk-evaluation-edit.page.html"],"names":[],"mappings":"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","file":"default-src_app_page_work-plan_risk-assessment_risk-evaluation-edit_risk-evaluation-edit_page_ts.js","sourcesContent":["import { ExcelService, Sheet, SheetStyle } from './../../../../basic/service/util/excel.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { FileBlob, FileJson, FutItem } from 'src/app/basic/service/core/file.service';\nimport { UserService } from 'src/app/basic/service/core/user.service';\nimport { LoadingService } from 'src/app/basic/service/ionic/loading.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\nimport { DateService } from 'src/app/basic/service/util/date.service';\nimport { ApprovalBtnClickEvent } from 'src/app/component/confirm/approval/approval.component';\nimport { SearchAreaComponent } from 'src/app/component/modal/search-area/search-area.component';\nimport { MachineryItem, SearchConstructionMachineryComponent } from 'src/app/component/modal/search-construction-machinery/search-construction-machinery.component';\nimport { SearchToolComponent, ToolItem } from 'src/app/component/modal/search-tool/search-tool.component';\nimport { AnswerObj, CommentObj } from 'src/app/page/confirm/box/approval-edit/approval-edit.page';\nimport { RiskEvaluationPopupPage, RiskItem } from '../risk-evaluation-popup/risk-evaluation-popup.page';\nexport interface RiskTableItem {\n  seq_no:number,\n  rowspan:number,\n  risk_construction_id:number,\n  risk_construction_name:string,\n  unitList: {\n    rowspan:number,\n    risk_unit_id:number,\n    risk_unit_name:string,\n\n    area_top_id:number,\n    area_top_name:string,\n    area_middle_id:number,\n    area_middle_name:string,\n    area_bottom_id:number,\n    area_bottom_name:string,\n\n    area_name:string,\n\n    ctgo_machinery_ids:number[],\n    ctgo_machinery_names:string[],\n\n    ctgo_tool_ids:number[],\n    ctgo_tool_names:string[],\n\n    facterList: {\n      rowspan:number,\n      risk_factor_id:number,\n      risk_factor_name:string,\n\n      risk_frequency:number,\n      risk_strength:number,\n      risk_danger_level:number,\n\n      planList: {\n        risk_plan_id:number,\n        risk_plan_name:string\n      }[]\n    }[]\n  }[]\n}\n@Component({\n  selector: 'app-risk-evaluation-edit',\n  templateUrl: './risk-evaluation-edit.page.html',\n  styleUrls: ['./risk-evaluation-edit.page.scss'],\n})\nexport class RiskEvaluationEditPage implements OnInit {\n\n  /** 수정 시 필요한 ID */\n  @Input() risk_asment_id;\n\n  /** 신규 작성시 필요한 정보 */\n  @Input() project_id;\n  @Input() risk_asment_type;\n\n  @Input() btn_type:string = '';\n\n  /** 복사 신규 작성 여부 */\n  @Input() isDuplicate:boolean = false;\n\n  form = {\n    project_id: null, // 현장 ID\n    project_name: '',\n    master_company_id: null, // 원청사 ID\n    company_id: null, // 업체 ID\n    company_name: null,\n    ctgo_construction_id: null, // 공종 ID\n    ctgo_construction_name: '',\n    company_file_data: [] as FutItem[],\n\n    risk_asment_type: '수시', // 위험성평가 타입 / 최초, 정기, 수시\n    risk_asment_type_text: '수시',\n    risk_asment_start_date: this.date.today({ date: 1 }), // 시작일\n    risk_asment_end_date: this.date.today({ date: 1 }), // 끝일\n    evaluation_data: [] as RiskItem[], // 위험성 평가 평가표 정보 배열\n\n    risk_file_data: [] as FutItem[], //FUT\n    file: [] as (File|FileBlob)[], // FILE\n    file_json: new FileJson(), // JSON\n    \n    // 결재 값\n    ctgo_approval_module_id: null,\n    approval_cnt_answer: null, // 결재선 유형 - 임시저장 OR 결재중 -> 결재요청은 결재중으로 올려주세요 두가지중 하나만 가능\n    approval_default_data: [], // 결재자 / 참조자 등록정보\n\n    // 수정시\n    approval_id: null, // 결재 ID\n    risk_asment_id: null, // 위험성 평가 ID\n    user_name: null,\n    create_date: this.date.today()\n  }\n\n  permission = {\n    edit: false,\n    tableEdit: false\n  }\n\n  riskTableList:RiskTableItem[] = [];\n  approval_answer:AnswerObj[];\n  approval_comment:CommentObj[];\n\n  constructor(\n    public user: UserService,\n    private connect: ConnectService,\n    private toast: ToastService,\n    private _modal: ModalController,\n    private loading: LoadingService,\n    private date: DateService,\n    private excel: ExcelService,\n    private dateService: DateService\n  ) { }\n\n  async ngOnInit() {\n    if(!this.risk_asment_id) {\n      this.permission.tableEdit = true;\n      // 협력사의 원청사 검색 때문에, 신규작성시 뿐 아니라, 수정시에도 일단 폼을 채워줘야 함\n      this.getDefaultForm();\n      // 신규 작성 시에는 가지고 온 디폴트 값을 건드리지 않음.\n    }\n    else if(!this.isDuplicate) {\n      // 협력사의 원청사 검색 때문에, 신규작성시 뿐 아니라, 수정시에도 일단 폼을 채워줘야 함\n      this.getDefaultForm();\n\n      // 수정 시에는 정보를 가져와서 채워넣음\n      this.form.risk_asment_id = this.risk_asment_id;\n      await this.getDetail();\n      await this.getEvaluationDetail();\n    }\n    else {\n      // 복사 작성 시에는 정보를 가져와서 채워넣은 다음\n      this.form.risk_asment_id = this.risk_asment_id;\n      await this.getDetail();\n      await this.getEvaluationDetail();\n\n      // 해당 정보를 신규정보로 바꿔줌\n      this.getDefaultForm();\n      this.resetForDuplicate();\n    }\n\n    // 나머지 정보\n    this.form.risk_asment_type_text = this.getTypeText(this.form.risk_asment_type);\n    // 결재에는 ctgo_approval_module_id 가 반드시 필요하므로 유의\n    this.form.ctgo_approval_module_id = this.getApprovalModuleId(this.form.risk_asment_type);\n  }\n\n  async getDefaultForm() {\n    const { user_name, belong_data } = this.user.userData;\n    this.form.project_id = this.project_id;\n    this.form.company_id = belong_data.company_id;\n    this.form.company_name = belong_data.company_name;\n\n    this.form.risk_asment_type = this.risk_asment_type;\n\n    this.form.user_name = user_name;\n\n    if(belong_data.company_contract_type === '원청사') {\n      this.form.master_company_id = belong_data.company_id;\n    }\n    else if(belong_data.company_contract_type === '협력사') {\n      // 협력사는 내 회사가 아니라, 내 원청사를 company_id에 넣어줘야 함\n      this.form.master_company_id = belong_data.master_company_id;\n      // const res = await this.connect.run('/category/certify/search_my_master_company/get', {\n      //   project_id: this.form.project_id,\n      //   search_text: ''\n      // });\n      // if(res.rsCode === 0) {\n      //   const contractor = res.rsMap[0];\n      //   this.form.master_company_id = contractor.master_company_id;\n      // }\n      // else {\n      //   this.toast.present({ color: 'warning', message: res.rsMsg });\n      // }\n    }\n  }\n\n  /**\n   * 위험성평가 정보 가져오기\n   */\n   async getDetail() {\n    const res = await this.connect.run('/risk/assessment/detail/get', {\n      risk_asment_id: this.form.risk_asment_id\n    }, { parse: ['risk_file_data','company_file_data'] });\n    if(res.rsCode === 0) {\n      this.form = {\n        ...this.form,\n        ...res.rsObj\n      }\n      // 정보를 가져온 후, 결재 정보를 가져와야 한다! => app-approval component가 알아서 자동으로 가져온다!\n    }\n    else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n  }\n  /**\n   * 위험성평가 평가표 정보 가져오기\n   */\n   async getEvaluationDetail() {\n    const res = await this.connect.run('/risk/assessment/detail/evaluation/get', {\n      risk_asment_id: this.form.risk_asment_id\n    });\n    if(res.rsCode === 0) {\n      res.rsMap.forEach(item => {\n        try {\n          // 배열이 스트링으로 들어오므로 배열로 변환해줘야 함\n          item.ctgo_machinery_ids = JSON.parse(item.ctgo_machinery_ids);\n          item.ctgo_machinery_names = JSON.parse(item.ctgo_machinery_names);\n          item.ctgo_tool_ids = JSON.parse(item.ctgo_tool_ids);\n          item.ctgo_tool_names = JSON.parse(item.ctgo_tool_names);\n        } catch(e) {}\n      });\n      this.riskTableList = this.riskListToTable(res.rsMap);\n      // 정보를 가져온 후, 결재 정보를 가져와야 한다! => app-approval component가 알아서 자동으로 가져온다!\n    }\n    else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n  }\n\n  /**\n   * 복사 시, 정보 리셋\n   */\n  resetForDuplicate() {\n    this.form.approval_id = null;\n\n    // 복사 시, 이거 진짜 어케해야될 지 모르겠음. GG\n    setTimeout(() => {\n      this.isDuplicate = false;\n    }, 2000);\n  }\n\n  /**\n   * 위험성평가 텍스트 가져오기\n   */\n   getTypeText(risk_asment_type) {\n    switch(risk_asment_type) {\n      case '최초':\n        return '최초';\n      case '정기':\n        return '정기';\n      case '수시':\n        return '수시';\n    }\n  }\n\n  /**\n   * 회의록 결재선 아이디 가져오기\n   */\n   getApprovalModuleId(risk_asment_type) {\n    switch(risk_asment_type) {\n      case '최초':\n        return 6;\n      case '정기':\n        return 7;\n      case '수시':\n        return 8;\n    }\n  }\n\n  /** \n   * 삭제 버튼 클릭\n   */\n   async onDeleteClick(ev:ApprovalBtnClickEvent) {\n    // 여기서는 딱히 처리할게 없음. 그냥 삭제 후 닫기.\n    const res = await ev.delete();\n    if(res.rsCode  === 0) {\n      this._modal.dismiss();\n      // 목록을 새로고침 해줘야 함\n      window.dispatchEvent(new CustomEvent('risk-list:get()'));\n      window.dispatchEvent(new CustomEvent('approval-list:get()'));\n    }\n    else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n  }\n  /**\n   * 임시 저장버튼 클릭\n   */\n  async onSaveClick(ev:ApprovalBtnClickEvent) {\n    const approval_data = ev.approval_data;\n\n    this.form.evaluation_data = this.riskTableToList(this.riskTableList);\n    \n    if(!this.form.ctgo_construction_id) { this.toast.present({ color: 'warning', message: '공종을 선택해주세요.' }); return; }\n    if(!this.form.evaluation_data?.length) { this.toast.present({ color: 'warning', message: '위험성 평가 평가표 정보를 입력해주세요.' }); return; }\n\n    this.form.approval_cnt_answer = '임시저장';\n    this.form.approval_default_data = approval_data;\n\n    let url = '';\n    if(!this.form.approval_id) {\n      url = '/risk/assessment/insert';\n    }\n    else {\n      url = '/risk/assessment/update';\n    }\n\n    const res = await this.connect.run(url, this.form, { loading: true });\n\n    if(res.rsCode === 0) {\n      this.toast.present({ color: 'success', message: '임시저장 되었습니다.' });\n      if(!this.form.approval_id) {\n        // 신규 작성이었다면, approval_id와 safety_meeting_id 반환받아서 넣어줘야 임시저장 시, 새로 추가되는 것이 아닌 수정이 된다.\n        this.form.approval_id = res.rsObj.approval_id;\n        this.form.risk_asment_id = res.rsObj.risk_asment_id;\n        // 목록을 새로고침 해줘야 함\n        window.dispatchEvent(new CustomEvent('risk-list:get()'));\n        window.dispatchEvent(new CustomEvent('approval-list:get()'));\n      }\n    }\n    else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n  }\n  /**\n   * 결재 요청 버튼 클릭\n   */\n  async onSendClick(ev:ApprovalBtnClickEvent) {\n    const approval_data = ev.approval_data;\n\n    this.form.evaluation_data = this.riskTableToList(this.riskTableList);\n\n    if(!this.form.ctgo_construction_id) { this.toast.present({ color: 'warning', message: '공종을 선택해주세요.' }); return; }\n    if(!this.form.evaluation_data?.length) { this.toast.present({ color: 'warning', message: '위험성 평가 평가표 정보를 입력해주세요.' }); return; }\n\n    this.form.approval_cnt_answer = '결재중';\n    this.form.approval_default_data = approval_data;\n\n    if(!this.form.approval_id) {\n      // 임시저장도 안한 상태에서는 insert에서 결재 요청을 처리한다.\n      const res = await this.connect.run('/risk/assessment/insert', this.form, { loading: true });\n\n      if(res.rsCode === 0) {\n        this.toast.present({ color: 'success', message: '결재요청 되었습니다.' });\n        this._modal.dismiss();\n        // 목록을 새로고침 해줘야 함\n        window.dispatchEvent(new CustomEvent('risk-list:get()'));\n        window.dispatchEvent(new CustomEvent('approval-list:get()'));\n      }\n      else {\n        this.toast.present({ color: 'warning', message: res.rsMsg });\n      }\n    }\n    else {\n      /**\n       * 임시저장을 한 상태에서는 approval에서 따로 결재 요청(ev.send()) 처리한다.\n       * 순서상, update 후 결재 요청을 욜리는 것이 맞다고 생각된다.\n       */\n      const loading = await this.loading.present();\n      \n      const res = await this.connect.run('/risk/assessment/update', this.form);\n\n      if(res.rsCode === 0) {\n        const approvalRes = await ev.send();\n        if(approvalRes.rsCode === 0) {\n          this.toast.present({ color: 'success', message: '결재요청 되었습니다.' });\n          this._modal.dismiss();\n          // 목록을 새로고침 해줘야 함\n          window.dispatchEvent(new CustomEvent('risk-list:get()'));\n        }\n        else {\n          this.toast.present({ color: 'warning', message: approvalRes.rsMsg });  \n        }\n      }\n      else {\n        this.toast.present({ color: 'warning', message: res.rsMsg });\n      }\n\n      loading.dismiss();\n    }\n  }\n  /** \n   * 결재 회수 버튼 클릭 \n   */\n  async onRecoveryClick(ev:ApprovalBtnClickEvent) {\n    const res = await ev.recovery();\n    if(res.rsCode === 0) {\n      this.isDuplicate = true;\n      this.form.approval_id = null;\n      setTimeout(() => {\n        this.isDuplicate = false;\n      }, 2000);\n      // 목록을 새로고침 해줘야 함\n      window.dispatchEvent(new CustomEvent('risk-list:get()'));\n      window.dispatchEvent(new CustomEvent('approval-list:get()'));\n    }\n\n  }\n  /**\n   * 결재 버튼 클릭\n   */\n   async onApprovalClick(ev:ApprovalBtnClickEvent) {\n\n    /** 위험성평가는 결재 시, 테이블데이터 수정이 가능하다. */\n    /* this.form.evaluation_data = this.riskTableToList(this.riskTableList);\n\n    this.form.approval_cnt_answer = '결재';\n    this.form.approval_default_data = ev.approval_data;\n\n    const res1 = await this.connect.run('/risk/assessment/update', this.form, { loading: true });\n\n    if(res1.rsCode) { this.toast.present({ color: 'warning', message: res1.rsMsg }); return; } */\n\n    /** 데이터 수정 후 결재 진행 */\n    const res2 = await ev.approval();\n    if(res2.rsCode === 0) {\n      this.toast.present({ color: 'success', message: '결재 되었습니다.' });\n      this._modal.dismiss();\n      // 목록을 새로고침 해줘야 함\n      window.dispatchEvent(new CustomEvent('risk-list:get()'));\n      window.dispatchEvent(new CustomEvent('approval-list:get()'));\n    }\n  }\n\n  /**\n   * 결재 상태가 변할 때 행동\n   */\n  onApprovalChange(ev:ApprovalBtnClickEvent) {\n    if(ev.btnList.includes('임시저장')) {\n      this.permission.edit = true;\n      this.permission.tableEdit = true;\n    }\n    else if(ev.btnList.includes('결재')) {\n      this.permission.edit = false;\n      this.permission.tableEdit = true;\n    }\n    else {\n      this.permission.edit = false;\n      this.permission.tableEdit = false;\n    }\n\n    /** 결재자들을 가지고 온다.(모바일 화면 용) */\n    this.approval_answer = ev.approval_data[0].answer_datas;\n    /** 결재자 의견을 가지고 온다. */\n    this.approval_comment = ev.approval_comment;\n\n    /** 모바일 화면에서는 테이블 편집이 안된다. */\n    if(window.innerWidth <= 768) {\n      this.permission.edit = false;\n      this.permission.tableEdit = false;\n    }\n  }\n\n  public async add() {\n    const modal = await this._modal.create({\n      component:RiskEvaluationPopupPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        project_id: this.form.project_id,\n        riskList: this.riskTableToList(this.riskTableList)\n      }\n    })\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n\n    if(data) {\n\n      const riskList = data.riskList as RiskItem[];\n\n      /** 테이블 형식 데이터로 변환 */\n      this.riskTableList = this.riskListToTable(riskList);\n    }\n\n  }\n\n  riskFrequencyChange(factorItem) {\n    const { risk_frequency, risk_strength } = factorItem;\n    factorItem.risk_danger_level = risk_frequency * risk_strength;\n  }\n  riskStrengthChange(factorItem) {\n    const { risk_frequency, risk_strength } = factorItem;\n    factorItem.risk_danger_level = risk_frequency * risk_strength;\n  }\n\n  /** \n   * 편집 가능 리스트를 테이블 리스트 형태로 변경 \n   */\n  riskListToTable(riskList:RiskItem[]) {\n    const riskTableList:RiskTableItem[] = [];\n    riskList.forEach(riskItem => {\n      let tableConstructionItem = riskTableList.find(item => item.risk_construction_id === riskItem.risk_construction_id);\n\n      /** 공사명이 없다면 새로 추가 */\n      if(!tableConstructionItem) {\n        tableConstructionItem = {\n          rowspan: 0,\n          risk_construction_id: riskItem.risk_construction_id,\n          risk_construction_name: riskItem.risk_construction_name,\n          seq_no: riskItem.seq_no,\n          unitList: []\n        };\n        riskTableList.push(tableConstructionItem);\n      }\n      \n      let tableUnitItem = tableConstructionItem.unitList.find(item => item.risk_unit_id === riskItem.risk_unit_id);\n\n      /** 공사명에 단위작업이 없다면 새로 추가 */\n      if(!tableUnitItem) {\n        tableUnitItem = {\n          rowspan: 0,\n\n          risk_unit_id: riskItem.risk_unit_id,\n          risk_unit_name: riskItem.risk_unit_name,\n\n          area_top_id: riskItem.area_top_id,\n          area_top_name: riskItem.area_top_name,\n          area_middle_id: riskItem.area_middle_id,\n          area_middle_name: riskItem.area_middle_name,\n          area_bottom_id: riskItem.area_bottom_id,\n          area_bottom_name: riskItem.area_bottom_name,\n\n          area_name: riskItem.area_name,\n\n          ctgo_machinery_ids: riskItem.ctgo_machinery_ids,\n          ctgo_machinery_names: riskItem.ctgo_machinery_names,\n\n          ctgo_tool_ids: riskItem.ctgo_tool_ids,\n          ctgo_tool_names: riskItem.ctgo_tool_names,\n\n          facterList: []\n        }\n        tableConstructionItem.unitList.push(tableUnitItem);\n      }\n\n      /** 위험요인 아이디가 있고(직접입력이 아니고) && 현재 있는 위험요인인지 체크 */\n      let tableFactorItem = tableUnitItem.facterList.find(item => item.risk_factor_id && item.risk_factor_id === riskItem.risk_factor_id);\n\n      /** 단위작업에 위험요인이 없다면 새로 추가 */\n      if(!tableFactorItem) {\n        tableFactorItem = {\n          rowspan: 0,\n          risk_factor_id: riskItem.risk_factor_id,\n          risk_factor_name: riskItem.risk_factor_name,\n          risk_frequency: riskItem.risk_frequency,\n          risk_strength: riskItem.risk_strength,\n          risk_danger_level: riskItem.risk_danger_level,\n          planList: []\n        }\n        tableUnitItem.facterList.push(tableFactorItem);\n      }\n\n      /** 위험요인에 감소대책 추가 */\n      tableFactorItem.planList.push({\n        risk_plan_id: null,\n        risk_plan_name: riskItem.risk_plan_name\n      });\n      \n      /** 테이블 레이아웃 병합 정보 추가 */\n      tableConstructionItem.rowspan++;\n      tableUnitItem.rowspan++;\n      tableFactorItem.rowspan++;\n    });\n\n    return riskTableList;\n  }\n\n  /** \n   * 테이블 리스트를 편집 가능 리스트 형태로 변경 \n   */\n  riskTableToList(riskTableList:RiskTableItem[]) {\n    const riskList:RiskItem[] = [];\n    riskTableList.forEach(constructionItem => {\n      constructionItem.unitList.forEach(unitItem => {\n        unitItem.facterList.forEach(factorItem => {\n          factorItem.planList.forEach(planItem => {\n            riskList.push({\n              risk_asment_id: this.form.risk_asment_id, // 위험성평가 ID (위험성평가 문서 ID)\n              seq_no: constructionItem.seq_no, // 시퀀스 - 이 한 줄의 ID\n\n              risk_construction_id: constructionItem.risk_construction_id, // 공사 ID\n              risk_construction_name: constructionItem.risk_construction_name, // 공사명\n\n              risk_unit_id: unitItem.risk_unit_id, // 단위작업 ID\n              risk_unit_name: unitItem.risk_unit_name, // 단위작업\n\n              area_top_id: unitItem.area_top_id,  // 장소 첫번째 ID\n              area_top_name: unitItem.area_top_name, // 장소 첫번째\n              area_middle_id: unitItem.area_middle_id, // 장소 두번째 ID null 이면 안고른거\n              area_middle_name: unitItem.area_middle_name, // 장소 두번째\n              area_bottom_id: unitItem.area_bottom_id, // 장소 세번째 ID null 이면 안고른거\n              area_bottom_name: unitItem.area_bottom_name, // 장소 세번째\n\n              area_name: unitItem.area_name,\n\n              ctgo_machinery_ids: unitItem.ctgo_machinery_ids, // 건설기계 ID들\n              ctgo_machinery_names: unitItem.ctgo_machinery_names, // 건설기계명들\n\n              ctgo_tool_ids: unitItem.ctgo_tool_ids, // 특수공도구 ID들\n              ctgo_tool_names: unitItem.ctgo_tool_names, // 특수공도구명들\n\n              risk_factor_id: factorItem.risk_factor_id, // 위험요인 ID null 이면 직접입력\n              risk_factor_name: factorItem.risk_factor_name, // 위험요인\n              \n              risk_frequency: factorItem.risk_frequency, // 빈도\n              risk_strength: factorItem.risk_strength, // 강도\n              risk_danger_level: factorItem.risk_danger_level, // 위험도\n\n              risk_plan_id: planItem.risk_plan_id, // 감소대책 ID null 이면 직접입력\n              risk_plan_name: planItem.risk_plan_name // 감소대책\n            })\n          });\n        })\n      });\n    });\n\n    return riskList;\n  }\n\n  /**\n   * 장소 팝업\n   */\n  async openArea(unitItem) {\n    const modal = await this._modal.create({\n      component: SearchAreaComponent,\n      componentProps: {\n        project_id: this.form.project_id\n      }\n    });\n    modal.present();\n\n    const { data } = await modal.onDidDismiss();\n\n    if(data) {\n      unitItem.area_top_id = data.area1selectedItem.area_top_id;\n      unitItem.area_top_name = data.area1selectedItem.area_top_name;\n      unitItem.area_middle_id = data.area2selectedItem.area_middle_id;\n      unitItem.area_middle_name = data.area2selectedItem.area_middle_name;\n      unitItem.area_bottom_id = data.area3selectedItem.area_bottom_id;\n      unitItem.area_bottom_name = data.area3selectedItem.area_bottom_name;\n    }\n  }\n  /**\n   * 건설기계 팝업\n   */\n   async openMachinery(unitItem) {\n\n    /** 현재 목록에 있는 건설기계 데이터를 search에 있는 형태로 변경 */\n    const selectedItemList:MachineryItem[] = [];\n    unitItem.ctgo_machinery_ids.forEach((id, i) => {\n      selectedItemList.push({\n        ctgo_machinery_id: id,\n        ctgo_machinery_name: unitItem.ctgo_machinery_names[i],\n        ctgo_machinery_doc_state: 1,\n        ctgo_machinery_use_state: 1,\n        company_id: this.form.company_id,\n        default_state: 1\n      })\n    });\n\n    /** 검색창 오픈 */\n    const modal = await this._modal.create({\n      component: SearchConstructionMachineryComponent,\n      componentProps: {\n        form: {\n          project_id: this.form.project_id,\n          master_company_id: this.form.master_company_id,\n          search_text: ''\n        },\n        multiple: true,\n        selectedItemList\n      }\n    });\n    modal.present();\n\n    const { data } = await modal.onDidDismiss();\n\n    if(data) {\n      unitItem.ctgo_machinery_ids = [];\n      unitItem.ctgo_machinery_names = [];\n      data.selectedItemList.forEach(item => {\n        unitItem.ctgo_machinery_ids.push(item.ctgo_machinery_id);\n        unitItem.ctgo_machinery_names.push(item.ctgo_machinery_name);\n      });\n    }\n  }\n  removeMachinery(unitItem, ctgo_machinery_id) {\n    const index = unitItem.ctgo_machinery_ids.indexOf(ctgo_machinery_id);\n    unitItem.ctgo_machinery_ids.splice(index, 1);\n    unitItem.ctgo_machinery_names.splice(index, 1);\n  }\n\n  /**\n   * 특수공도구 팝업\n   */\n   async openTool(unitItem) {\n\n    /** 현재 목록에 있는 건설기계 데이터를 search에 있는 형태로 변경 */\n    const selectedList:ToolItem[] = [];\n    unitItem.ctgo_tool_ids.forEach((id, i) => {\n      selectedList.push({\n        ctgo_tool_id: id,\n        ctgo_tool_name: unitItem.ctgo_tool_names[i],\n        project_id: this.form.project_id,\n        master_company_id: this.form.master_company_id,\n        ctgo_tool_use_state: 1\n      });\n    });\n\n    /** 검색창 오픈 */\n    const modal = await this._modal.create({\n      component: SearchToolComponent,\n      componentProps: {\n        form: {\n          project_id: this.form.project_id,\n          master_company_id: this.form.master_company_id,\n          search_text: ''\n        },\n        multiple: true,\n        selectedList\n      }\n    });\n    modal.present();\n\n    const { data } = await modal.onDidDismiss();\n\n    if(data) {\n      unitItem.ctgo_tool_ids = [];\n      unitItem.ctgo_tool_names = [];\n      data.selectedList.forEach(item => {\n        unitItem.ctgo_tool_ids.push(item.ctgo_tool_id);\n        unitItem.ctgo_tool_names.push(item.ctgo_tool_name);\n      });\n    }\n  }\n  removeTool(unitItem, ctgo_tool_id) {\n    const index = unitItem.ctgo_tool_ids.indexOf(ctgo_tool_id);\n    unitItem.ctgo_tool_ids.splice(index, 1);\n    unitItem.ctgo_tool_names.splice(index, 1);\n  }\n\n  async excel_download(){\n    const print_date = this.dateService.today();\n    const headerBorder = '1px solid #000000';\n    const backgroundColor = '#d9d9d9';\n    const excelData:Sheet[] = [];\n\n    const logo:SheetStyle = {\n      border: headerBorder,\n      textAlign:'center',\n      fontSize:16,\n      height:60,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const logo_theme:SheetStyle = {\n      border: headerBorder,\n      textAlign:'center',\n      fontSize:16,\n      height:30,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const title_1:SheetStyle = {\n      border: headerBorder,\n      textAlign:'center',\n      fontSize:16,\n      width: 45,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const border_1:SheetStyle = {\n      border: headerBorder,\n      width: 100,\n      textAlign:'center',\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const border_2:SheetStyle = {\n      border: headerBorder,\n      width: 100,\n      height: 65,\n      textAlign:'center',\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const approval_1:SheetStyle = {\n      border: headerBorder,\n      backgroundColor,\n      textAlign:'center',\n      fontSize:12,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const sub_title_1:SheetStyle = {\n      border: headerBorder,\n      backgroundColor,\n      textAlign:'center',\n      fontSize:12,\n      height:52,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const sub_title_2:SheetStyle = {\n      border: headerBorder,\n      backgroundColor,\n      textAlign:'center',\n      fontSize:12,\n      height:32,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const sub_title_3:SheetStyle = {\n      textAlign:'center',\n      fontSize:12,\n      height:48,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    const sub_title_4:SheetStyle = {\n      border: headerBorder,\n      textAlign:'center',\n      fontSize:12,\n      height:32,\n      verticalAlign: \"middle\",\n      whiteSpace: 'normal'\n    }\n\n    let logo_theme_arr = [];\n    for(let i = 0; i < 21; i++) logo_theme_arr.push({code: logo_theme});\n\n    let sub_title_theme_arr = [];\n    for(let i = 0; i < 21; i++) sub_title_theme_arr.push({code: sub_title_2});\n\n    let sub_title_theme_arr_2 = [];\n    for(let i = 0; i < 21; i++) sub_title_theme_arr_2.push({code: sub_title_4});\n\n    let border_theme_arr = [];\n    for(let i = 0; i < 21; i++) border_theme_arr.push({code: border_2});\n\n    let sheetData:Sheet = {\n      name: '위험성평가',\n      data: [\n        [\n          {colspan: 4, rowspan: 2},\n          {text: this.form.risk_asment_type_text+ ' 위험성 평가표', colspan:10, rowspan: 2},\n          {rowspan: 4, text: '결재'},\n          {text: '검토'},\n          {text: '검토'},\n          {text: '검토'},\n          {text: '검토'},\n          {text: '검토'},\n          {text: '승인'}\n        ],\n        [\n          {rowspan: 3},\n          {rowspan: 3},\n          {rowspan: 3},\n          {rowspan: 3},\n          {rowspan: 3},\n          {rowspan: 3}\n        ],\n        [\n          {text: '현장명'},\n          {text: this.form.project_name, colspan: 3},\n          {text: '회사명', colspan: 2},\n          {text: this.form.company_name, colspan: 3},\n          {text: '공종'},\n          {text: this.form.ctgo_construction_name || '', colspan: 4}\n        ],\n        [\n          {text: '작업기간'},\n          {text: this.form.risk_asment_start_date+' ~ '+this.form.risk_asment_end_date, colspan: 3},\n          {text: '작성일', colspan: 2},\n          {text: this.form.create_date, colspan: 3},\n          {text: '작성자'},\n          {text: this.form.user_name, colspan: 4},\n        ],\n        [\n          {text: '공사명', colspan: 2, rowspan: 2},\n          {text: '단위작업', colspan: 2, rowspan: 2},\n          {text: '장소', colspan: 2, rowspan: 2},\n          {text: '건설기계', rowspan: 2},\n          {text: '특수공도구', rowspan: 2},\n          {text: '위험요인', colspan: 5, rowspan: 2},\n          {text: '위험성', colspan: 3},\n          {text: '감소대책', colspan: 5, rowspan: 2},\n        ],\n        [\n          {text: '빈도'},\n          {text: '감도'},\n          {text: '등급'},\n        ],\n        // 평가표 리스트 들어가는곳\n\n\n        // 결재 의견 들어가는곳\n\n      ],\n      style: [\n        [\n          {code: logo},\n          {code: logo},\n          {code: logo},\n          {code: logo},\n          {code: title_1},\n          {code: title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1},\n          {code: approval_1}\n        ],\n        logo_theme_arr,\n        [\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1}\n        ],\n        [\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: sub_title_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1},\n          {code: border_1}\n        ],\n        sub_title_theme_arr,\n        sub_title_theme_arr,\n        // 평가표 리스트 들어가는곳\n\n        // 결재 의견 들어가는곳\n      ]\n    }\n\n    // 평가표 데이터 가공\n    // let table_theme_arr = [];\n    const table_data = this.riskTableList;\n\n    const regex_01 = /,/gi;\n    // rowspan 셋팅\n    if(table_data.length){\n      let rowspan_deps_1 = 0;\n      let rowspan_deps_2 = 6;\n      let rowspan_deps_3 = 6;\n      \n      table_data.map((item_1) => {\n        // 데이터 deps_01\n        sheetData.data.push([{text: item_1.risk_construction_name, rowspan: item_1.rowspan, colspan: 2}]);\n\n        // 스타일 deps_01\n        sheetData.style.push(border_theme_arr);\n        \n        // rowspan\n        if(item_1.rowspan > 1){\n          for(let i = 0; i < item_1.rowspan-1; i++){\n            sheetData.data.push([]);\n            sheetData.style.push(border_theme_arr);\n          }\n        }\n\n        // 데이터 deps_02\n        if(item_1.unitList.length){\n          item_1.unitList.map((item_2) => {\n            sheetData.data[rowspan_deps_2].push({text: item_2.risk_unit_name, rowspan: item_2.rowspan, colspan: 2});\n            // sheetData.data[rowspan_deps_2].push({text: (item_2.area_top_name || '')+(item_2.area_middle_name ? ' / '+item_2.area_middle_name : '')+(item_2.area_bottom_name ? ' / '+item_2.area_bottom_name : ''), rowspan: item_2.rowspan, colspan: 2});\n            sheetData.data[rowspan_deps_2].push({text: item_2.area_name, rowspan: item_2.rowspan, colspan: 2});\n            sheetData.data[rowspan_deps_2].push({text: item_2.ctgo_machinery_names.toString().replace(regex_01, \" / \"), rowspan: item_2.rowspan});\n            sheetData.data[rowspan_deps_2].push({text: item_2.ctgo_tool_names.toString().replace(regex_01, ' / '), rowspan: item_2.rowspan});\n\n            rowspan_deps_2 = rowspan_deps_2+item_2.rowspan;\n\n            // 데이터 deps_03\n            if(item_2.facterList.length){\n              item_2.facterList.map((item_3) => {\n                sheetData.data[rowspan_deps_3].push({text: item_3.risk_factor_name, rowspan: item_3.rowspan, colspan: 5});\n                sheetData.data[rowspan_deps_3].push({text: item_3.risk_frequency, rowspan: item_3.rowspan});\n                sheetData.data[rowspan_deps_3].push({text: item_3.risk_strength, rowspan: item_3.rowspan});\n                sheetData.data[rowspan_deps_3].push({text: item_3.risk_danger_level, rowspan: item_3.rowspan});\n                \n                let plan_num = 0;\n                for(let i = rowspan_deps_3; i < rowspan_deps_3+item_3.rowspan; i++){\n                  sheetData.data[i].push({text: item_3.planList[plan_num].risk_plan_name, colspan: 5});\n                  plan_num++;\n                }\n\n                rowspan_deps_3 = rowspan_deps_3+item_3.rowspan;\n              });\n            }\n          });\n        }\n\n\n      });\n    }\n\n    // 결재 데이터\n    const reverse_comment = this.approval_comment.reverse();\n    let approval_max_num = 5;\n    reverse_comment.map((item,index) => {\n      sheetData.data[1][approval_max_num - index] = {text: item.user_name+'\\n'+item.approval_answer+(item.approval_date ? '\\n'+item.approval_date : ''), rowspan: 3};\n    });\n\n    // 평가표와 결재의경사이의 공백\n    for(let i = 0; i < 4; i++){\n      sheetData.data.push([]);\n      sheetData.style.push([]);\n    }\n    sheetData.data.push([{text: '결재 의견', colspan: 2}]);\n    sheetData.data.push([{text: '구분', colspan: 2},{text: '결재', colspan: 2},{text: '성명', colspan: 3},{text: '회사명', colspan: 2},{text: '결재일시', colspan: 2},{text: '결재의견', colspan: 10}]);\n    sheetData.style.push([{code: sub_title_3}]);\n    sheetData.style.push(sub_title_theme_arr);\n\n\n\n    // 결재 의견 리스트\n    let cmt_min = 0;\n    let cmt_max = 0;\n    let order_arr = [];\n    const aprv_cmt = this.approval_comment.reverse();\n    aprv_cmt.map((item) => {order_arr.push(item.approval_order_no);});\n    cmt_min = Math.min.apply(null, order_arr);\n    cmt_max = Math.max(...order_arr);\n\n    aprv_cmt.map((item) => {\n      sheetData.data.push([{\n        text: item.approval_order_no === cmt_min ? (item.approval_order_no === cmt_max ? '작성/승인' : '작성') : (item.approval_order_no === cmt_max ? '승인' : '검토'), colspan: 2},\n        {text: item.approval_answer, colspan: 2},\n        {text: item.user_name, colspan: 3},\n        {text: item.company_name, colspan: 2},\n        {text: item.approval_date, colspan: 2},\n        {text: item.approval_comment || '', colspan: 10\n      }]);\n\n      sheetData.style.push(sub_title_theme_arr_2);\n    });\n    \n    // 회사 로고 이미지데이터\n    if(this.form.company_file_data && this.form.company_file_data.length){\n      sheetData.data[0][0] = {img: {src: this.form.company_file_data[0].full_url.toString(), height: 76, width: 450, left: 8, top: 8}, rowspan: 2, colspan: 4};\n    }\n\n    // img?: {\n    //   src:string,\n    //   left?:number,\n    //   top?:number,\n    //   width?:number,\n    //   height?:number\n    // }\n\n    // let item of approval_comment; let f = first; let l = last\n    excelData.push(sheetData);\n    console.log(this.riskTableList);\n    this.excel.make(excelData, '위험성평가');\n  }\n}\n","export default \".chip-list {\\n  margin-bottom: 4px;\\n}\\n\\n.chip-list ion-chip {\\n  display: flex;\\n  width: 100%;\\n}\\n\\n.lefr-class td {\\n  text-align: left;\\n  white-space: pre-wrap;\\n}\\n\\n@media screen and (max-width: 768px) {\\n  ion-content {\\n    --padding-start: 0;\\n    --padding-end: 0;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJpc2stZXZhbHVhdGlvbi1lZGl0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFrQjtBQUN0Qjs7QUFGQTtFQUdRLGFBQWE7RUFDYixXQUFXO0FBR25COztBQUNBO0VBRVEsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUM3Qjs7QUFHQTtFQUNJO0lBQ0ksa0JBQWdCO0lBQ2hCLGdCQUFjO0VBQXBCO0FBQ0YiLCJmaWxlIjoicmlzay1ldmFsdWF0aW9uLWVkaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNoaXAtbGlzdCB7XG4gICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgIGlvbi1jaGlwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxufVxuXG4ubGVmci1jbGFzc3tcbiAgICB0ZHtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgIH1cbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICBpb24tY29udGVudCB7XG4gICAgICAgIC0tcGFkZGluZy1zdGFydDogMDtcbiAgICAgICAgLS1wYWRkaW5nLWVuZDogMDtcbiAgICB9XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-title>위험성평가 상세</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <app-dismiss-button></app-dismiss-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-row>\\n    <app-col *mobileHidden style=\\\"display: flex; align-self: flex-start;\\\" size=\\\"auto\\\">\\n      <app-button *ngIf=\\\"btn_type !== 'add'\\\" (click)=\\\"excel_download()\\\">엑셀 다운로드</app-button>\\n    </app-col>\\n    <app-col *mobileHidden></app-col>\\n    <app-col>\\n      <app-approval \\n      [isDuplicate]=\\\"isDuplicate\\\"\\n      [project_id]=\\\"form.project_id\\\"\\n      [company_id]=\\\"form.company_id\\\"\\n      [ctgo_approval_module_id]=\\\"form.ctgo_approval_module_id\\\"\\n      [approval_id]=\\\"form.approval_id\\\"\\n      (deleteClick)=\\\"onDeleteClick($event)\\\"\\n      (saveClick)=\\\"onSaveClick($event)\\\"\\n      (sendClick)=\\\"onSendClick($event)\\\"\\n      (recoveryClick)=\\\"onRecoveryClick($event)\\\"\\n      (approvalClick)=\\\"onApprovalClick($event)\\\"\\n      (change)=\\\"onApprovalChange($event)\\\"></app-approval>\\n    </app-col>\\n  </app-row>\\n\\n\\n  <app-approval-document>\\n    \\n\\n    <h2>{{ form.risk_asment_type_text }} 위험성 평가표</h2>\\n  \\n    <app-approval-template *mobileShow [approval_answer]=\\\"approval_answer\\\"></app-approval-template>\\n  \\n    <h4>기본정보</h4>\\n  \\n    <app-row>\\n      <app-col>\\n        <app-select-scene [(ngModel)]=\\\"form.project_id\\\" [disabled]=\\\"true\\\"></app-select-scene>\\n      </app-col>\\n      <app-col>\\n        <app-input-template label=\\\"회사명\\\" [disabled]=\\\"true\\\">\\n          <p slot=\\\"input\\\">{{ form.company_name }}</p>\\n        </app-input-template>\\n      </app-col>\\n      <app-col>\\n        <app-select-construction [project_id]=\\\"form.project_id\\\" [master_company_id]=\\\"form.master_company_id\\\" [(ngModel)]=\\\"form.ctgo_construction_id\\\" [disabled]=\\\"!permission.edit\\\"></app-select-construction>\\n      </app-col>\\n      <app-col>\\n        <app-select label=\\\"평가표 구분\\\" [(ngModel)]=\\\"form.risk_asment_type\\\" [disabled]=\\\"!permission.edit\\\" [required]=\\\"true\\\" (change)=\\\"form.risk_asment_type_text = getTypeText(form.risk_asment_type)\\\">\\n          <app-select-option value=\\\"최초\\\">최초</app-select-option>\\n          <app-select-option value=\\\"정기\\\">정기</app-select-option>\\n          <app-select-option value=\\\"수시\\\">수시</app-select-option>\\n        </app-select>\\n      </app-col>\\n    </app-row>\\n    <app-row>\\n      <app-col>\\n        <app-input-group label=\\\"작업기간\\\" [disabled]=\\\"!permission.edit\\\" [required]=\\\"true\\\">\\n          <app-calendar [(ngModel)]=\\\"form.risk_asment_start_date\\\" [max]=\\\"form.risk_asment_end_date\\\"></app-calendar>\\n          ~\\n          <app-calendar [(ngModel)]=\\\"form.risk_asment_end_date\\\" [min]=\\\"form.risk_asment_end_date\\\"></app-calendar>\\n        </app-input-group>\\n      </app-col>\\n  \\n      <app-col>\\n        <app-input-template label=\\\"작성일\\\" [disabled]=\\\"true\\\">\\n          <p slot=\\\"input\\\">{{ form.create_date }}</p>\\n        </app-input-template>\\n      </app-col>\\n      <app-col>\\n        <app-input-template label=\\\"작성자\\\" [disabled]=\\\"true\\\">\\n          <p slot=\\\"input\\\">{{ form.user_name }}</p>\\n        </app-input-template>\\n      </app-col>\\n      <app-col>\\n        \\n      </app-col>\\n    </app-row>\\n  \\n    <app-row>\\n      <app-col>\\n        <h4>평가표 정보</h4>\\n      </app-col>\\n      <app-col size=\\\"auto\\\" *ngIf=\\\"permission.tableEdit\\\">\\n        <app-button fill=\\\"translucent\\\" (click)=\\\"add()\\\">{{ riskTableList.length ? '수정' : '작성' }}</app-button>\\n      </app-col>\\n    </app-row>\\n  \\n    <app-row>\\n      <app-col>\\n        <app-table>\\n          <thead>\\n            <tr>\\n              <th style=\\\"width: 100px;\\\" rowspan=\\\"2\\\">공사명</th>\\n              <th rowspan=\\\"2\\\" style=\\\"width: 100px;\\\">단위작업</th>\\n              <!-- <th style=\\\"width:260px;\\\" rowspan=\\\"2\\\" [attr.colspan]=\\\"permission.tableEdit ? 2 : 1\\\">장소</th> -->\\n              <th style=\\\"width:260px;\\\" rowspan=\\\"2\\\">장소</th>\\n              <th style=\\\"width:220px;\\\" rowspan=\\\"2\\\" [attr.colspan]=\\\"permission.tableEdit ? 2 : 1\\\">건설기계</th>\\n              <th style=\\\"width:220px;\\\" rowspan=\\\"2\\\" [attr.colspan]=\\\"permission.tableEdit ? 2 : 1\\\">특수 공도구</th>\\n              <th rowspan=\\\"2\\\" style=\\\"width: 400px;\\\">위험요인</th>\\n              <th colspan=\\\"3\\\" style=\\\"width: 200px;\\\">위험성</th>\\n              <th rowspan=\\\"2\\\" style=\\\"width: 400px;\\\">감소대책</th>\\n            </tr>\\n            <tr>\\n              <th>빈도</th>\\n              <th>강도</th>\\n              <th>위험도</th>\\n            </tr>\\n          </thead>\\n          <tbody class=\\\"lefr-class\\\">\\n            \\n            <ng-container *ngFor=\\\"let cunstructionItem of riskTableList\\\">\\n  \\n              <ng-container *ngFor=\\\"let unitItem of cunstructionItem.unitList; let unitStart = first;\\\">\\n  \\n                <ng-container *ngFor=\\\"let factorItem of unitItem.facterList; let factorStart = first;\\\">\\n  \\n                  <tr *ngFor=\\\"let planItem of factorItem.planList; let planStart = first;\\\">\\n  \\n                    <td *ngIf=\\\"unitStart && factorStart && planStart\\\" [attr.rowspan]=\\\"cunstructionItem.rowspan\\\">{{ cunstructionItem.risk_construction_name }}</td>\\n  \\n                    <ng-container *ngIf=\\\"factorStart && planStart\\\">\\n  \\n                      <td [attr.rowspan]=\\\"unitItem.rowspan\\\">{{ unitItem.risk_unit_name }}</td>\\n                      <td [attr.rowspan]=\\\"unitItem.rowspan\\\">\\n                        <!-- {{ unitItem.area_top_name }}\\n                        {{ unitItem.area_middle_name }}\\n                        {{ unitItem.area_bottom_name }} -->\\n                        <app-input [disabled]=\\\"!permission.tableEdit\\\" [(ngModel)]=\\\"unitItem.area_name\\\"></app-input>\\n                      </td>\\n                      <!-- <td *ngIf=\\\"permission.tableEdit\\\" [attr.rowspan]=\\\"unitItem.rowspan\\\" [style.width.px]=\\\"40\\\">\\n                        <app-button fill=\\\"translucent\\\" size=\\\"small\\\" (click)=\\\"openArea(unitItem)\\\">\\n                          <app-img name=\\\"search\\\"></app-img>\\n                        </app-button>\\n                      </td> -->\\n                      <td [attr.rowspan]=\\\"unitItem.rowspan\\\">\\n                        <div class=\\\"chip-list\\\" *ngFor=\\\"let ctgo_machinery_id of unitItem.ctgo_machinery_ids; let i = index;\\\">\\n                          <ion-chip color=\\\"primary\\\" (click)=\\\"permission.tableEdit && removeMachinery(unitItem, ctgo_machinery_id)\\\">\\n                            {{ unitItem.ctgo_machinery_names[i] }}\\n                            <ion-icon *ngIf=\\\"permission.tableEdit\\\" name=\\\"close\\\"></ion-icon>\\n                          </ion-chip>\\n                        </div>\\n                      </td>\\n                      <td *ngIf=\\\"permission.tableEdit\\\" [attr.rowspan]=\\\"unitItem.rowspan\\\" [style.width.px]=\\\"40\\\">\\n                        <app-button fill=\\\"translucent\\\" size=\\\"small\\\" (click)=\\\"openMachinery(unitItem)\\\">\\n                          <app-img name=\\\"search\\\"></app-img>\\n                        </app-button>\\n                      </td>\\n                      <td [attr.rowspan]=\\\"unitItem.rowspan\\\">\\n                        <div class=\\\"chip-list\\\" *ngFor=\\\"let ctgo_tool_id of unitItem.ctgo_tool_ids; let i = index;\\\">\\n                          <ion-chip color=\\\"primary\\\" (click)=\\\"permission.tableEdit && removeTool(unitItem, ctgo_tool_id)\\\">\\n                            {{ unitItem.ctgo_tool_names[i] }}\\n                            <ion-icon *ngIf=\\\"permission.tableEdit\\\" name=\\\"close\\\"></ion-icon>\\n                          </ion-chip>\\n                        </div>\\n                      </td>\\n                      <td *ngIf=\\\"permission.tableEdit\\\" [attr.rowspan]=\\\"unitItem.rowspan\\\" [style.width.px]=\\\"40\\\">\\n                        <app-button fill=\\\"translucent\\\" size=\\\"small\\\" (click)=\\\"openTool(unitItem)\\\">\\n                          <app-img name=\\\"search\\\"></app-img>\\n                        </app-button>\\n                      </td>\\n  \\n                    </ng-container>\\n  \\n                    <ng-container *ngIf=\\\"planStart\\\">\\n  \\n                      <td [attr.rowspan]=\\\"factorItem.rowspan\\\">{{ factorItem.risk_factor_name }}</td>\\n                      <td [attr.rowspan]=\\\"factorItem.rowspan\\\">\\n                        <app-select [(ngModel)]=\\\"factorItem.risk_frequency\\\" (change)=\\\"riskFrequencyChange(factorItem)\\\" [disabled]=\\\"!permission.tableEdit\\\">\\n                          <app-select-option [value]=\\\"1\\\">1</app-select-option>\\n                          <app-select-option [value]=\\\"2\\\">2</app-select-option>\\n                          <app-select-option [value]=\\\"3\\\">3</app-select-option>\\n                        </app-select>\\n                      </td>\\n                      <td [attr.rowspan]=\\\"factorItem.rowspan\\\">\\n                        <app-select [(ngModel)]=\\\"factorItem.risk_strength\\\" (change)=\\\"riskStrengthChange(factorItem)\\\" [disabled]=\\\"!permission.tableEdit\\\">\\n                          <app-select-option [value]=\\\"1\\\">1</app-select-option>\\n                          <app-select-option [value]=\\\"2\\\">2</app-select-option>\\n                          <app-select-option [value]=\\\"3\\\">3</app-select-option>\\n                        </app-select>\\n                      </td>\\n                      <td [attr.rowspan]=\\\"factorItem.rowspan\\\">{{ factorItem.risk_danger_level }}</td>\\n  \\n                    </ng-container>\\n  \\n                    <td>{{ planItem.risk_plan_name }}</td>\\n  \\n                  </tr>\\n                  \\n                </ng-container>\\n  \\n              </ng-container>\\n  \\n            </ng-container>\\n            \\n          </tbody>\\n        </app-table>\\n      </app-col>\\n    </app-row>\\n    <app-row>\\n      <app-col>\\n        <h4>첨부자료</h4>\\n      </app-col>\\n      <app-col size=\\\"auto\\\" *ngIf=\\\"permission.edit\\\">\\n        <app-button fill=\\\"translucent\\\" href=\\\"assets/xlsx/위험성평가참석자명단.xlsx\\\" download target=\\\"_blank\\\">참석 명부 양식 다운</app-button>\\n      </app-col>\\n      <app-col size=\\\"auto\\\" *ngIf=\\\"permission.edit\\\">\\n        <app-button fill=\\\"translucent\\\">\\n          첨부\\n          <app-file view_type=\\\"NONE\\\"  [(ngModel)]=\\\"form.risk_file_data\\\" [file]=\\\"form.file\\\" [file_json]=\\\"form.file_json\\\"></app-file>\\n        </app-button>\\n      </app-col>\\n    </app-row>\\n    <app-file-preview *ngFor=\\\"let futItem of form.risk_file_data\\\" [futItem]=\\\"futItem\\\" [readonly]=\\\"!permission.edit\\\"></app-file-preview>\\n  \\n    <app-approval-comment [approval_comment]=\\\"approval_comment\\\"></app-approval-comment>\\n\\n  </app-approval-document>\\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}