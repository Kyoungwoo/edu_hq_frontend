{"version":3,"sources":["./src/app/page/my-page/my-page-mileage/my-page-mileage-routing.module.ts","./src/app/page/my-page/my-page-mileage/my-page-mileage.module.ts","./src/app/page/my-page/my-page-mileage/my-page-mileage.page.ts","./src/app/page/my-page/my-page-mileage/my-page-mileage.page.scss","./src/app/page/my-page/my-page-mileage/my-page-mileage.page.html"],"names":[],"mappings":"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","file":"src_app_page_my-page_my-page-mileage_my-page-mileage_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyPageMileagePage } from './my-page-mileage.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyPageMileagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyPageMileagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyPageMileagePageRoutingModule } from './my-page-mileage-routing.module';\n\nimport { MyPageMileagePage } from './my-page-mileage.page';\nimport { ComponentModule } from 'src/app/component/component.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    MyPageMileagePageRoutingModule\n  ],\n  declarations: [MyPageMileagePage]\n})\nexport class MyPageMileagePageModule {}\n","import { ChangeDetectorRef, Component, ElementRef, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectResult, ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { LanguagePackService } from 'src/app/basic/service/core/language-pack.service';\nimport { UserService } from 'src/app/basic/service/core/user.service';\nimport { AlertService } from 'src/app/basic/service/ionic/alert.service';\nimport { LoadingService } from 'src/app/basic/service/ionic/loading.service';\nimport { NavService } from 'src/app/basic/service/ionic/nav.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\nimport { PromiseService } from 'src/app/basic/service/util/promise.service';\nimport { RegexService } from 'src/app/basic/service/util/regex.service';\n\n@Component({\n  selector: 'app-my-page-mileage',\n  templateUrl: './my-page-mileage.page.html',\n  styleUrls: ['./my-page-mileage.page.scss'],\n})\nexport class MyPageMileagePage implements OnInit {\n\n  /** 안전마일리지 form */\n  mileageTotalRes:ConnectResult<{\n    minus_mileage:number,\n    plus_mileage:number,\n    total_mileage:number\n  }>;\n  mileagePlusRes:ConnectResult<{\n    create_date:string,\n    ctgo_safe_mileage:string,\n    ctgo_safe_mileage_id:number,\n    ctgo_safe_mileage_point:number,\n    payer_user_id:number,\n    payer_user_name:string,\n    user_id:number\n  }>;\n  mileageMinusRes:ConnectResult<{\n    create_date:string,\n    ctgo_safe_mileage:string,\n    ctgo_safe_mileage_id:number,\n    ctgo_safe_mileage_point:number,\n    payer_user_id:number,\n    payer_user_name:string,\n    user_id:number\n  }>;\n\n  constructor(\n    private el: ElementRef<HTMLElement>,\n    private connect: ConnectService,\n    private _modal: ModalController,\n    private nav: NavService,\n    public regex: RegexService,\n    public user: UserService,\n    private toast: ToastService,\n    private alert: AlertService,\n    private loading: LoadingService,\n    private promise: PromiseService,\n    private changeDetector: ChangeDetectorRef,\n    public languagePack: LanguagePackService\n  ) { }\n\n  ngOnInit() {\n    this.get();\n  }\n\n  /** 모두 가져오기 */\n  async get() {\n    const loading = await this.loading.present();\n    /** Promise.all 은 모든 promise(async/await)들의 작동이 끝나면, 아래 코드를 읽습니다. \n     * api 여러개를 호출하여 한번에 데이터를 가져와야 하는데, 각 api 호출 마다 loading을 넣으면 너무 지져분하니\n     * 하나의 loading 으로 처리하기 위해서 만들었습니다.\n     */\n    await Promise.all([\n      this.getMileageTotal(),\n      this.getMileagePlus(),\n      this.getMileageMinus()\n    ]);\n\n    loading.dismiss();\n  }\n\n  /** 마일리지 정보 가져오기 */\n  private async getMileageTotal() {\n    this.mileageTotalRes = await this.connect.run('/mypage/mileagetotal/list');\n    if(this.mileageTotalRes.rsCode === 1008) {\n      // 암것도 안함\n    }\n    else if(this.mileageTotalRes.rsCode) {\n      this.toast.present({ color: 'warning', message: this.mileageTotalRes.rsMsg });\n    }\n  }\n  private async getMileagePlus() {\n    this.mileagePlusRes = await this.connect.run('/mypage/mileageplus/list');\n    if(this.mileagePlusRes.rsCode === 1008) {\n      // 암것도 안함\n    }\n    else if(this.mileagePlusRes.rsCode) {\n      this.toast.present({ color: 'warning', message: this.mileagePlusRes.rsMsg });\n    }\n  }\n  private async getMileageMinus() {\n    this.mileageMinusRes = await this.connect.run('/mypage/mileageminus/list');\n    if(this.mileageMinusRes.rsCode === 1008) {\n      // 암것도 안함\n    }\n    else if(this.mileageMinusRes.rsCode) {\n      this.toast.present({ color: 'warning', message: this.mileageMinusRes.rsMsg });\n    }\n  }\n}\n","export default \"app-row {\\n  align-items: flex-start;\\n}\\n\\napp-input-caption + app-input-caption {\\n  margin-top: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15LXBhZ2UtbWlsZWFnZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1QkFBdUI7QUFDM0I7O0FBQ0E7RUFDSSxhQUFhO0FBRWpCIiwiZmlsZSI6Im15LXBhZ2UtbWlsZWFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtcm93IHtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbn1cbmFwcC1pbnB1dC1jYXB0aW9uICsgYXBwLWlucHV0LWNhcHRpb24ge1xuICAgIG1hcmdpbi10b3A6IDA7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/my-page-type\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{ languagePack.getText('안전 마일리지') }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-container size=\\\"small\\\">\\n\\n    <!-- 안전 마일리지 -->\\n    <div>\\n\\n      <h4>{{ languagePack.getText('안전 마일리지') }}</h4>\\n\\n      <app-table>\\n        <thead>\\n          <tr>\\n            <th>{{ languagePack.getText('총 적립 마일리지') }}</th>\\n            <th>{{ languagePack.getText('총 사용 마일리지') }}</th>\\n            <th>{{ languagePack.getText('잔여 마일리지') }}</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr>\\n            <td>{{ regex.replace.price(mileageTotalRes?.rsObj?.total_mileage) || 0 }}</td>\\n            <td>{{ regex.replace.price(mileageTotalRes?.rsObj?.plus_mileage) || 0 }}</td>\\n            <td>{{ regex.replace.price(mileageTotalRes?.rsObj?.minus_mileage) || 0 }}</td>\\n          </tr>\\n        </tbody>\\n      </app-table>\\n      \\n      <h4>{{ languagePack.getText('안전 마일리지 적립 내역') }}</h4>\\n\\n      <app-table>\\n        <thead>\\n          <tr>\\n            <th>NO</th>\\n            <th>{{ languagePack.getText('마일리지 분류') }}</th>\\n            <th>{{ languagePack.getText('지급자') }}</th>\\n            <th>{{ languagePack.getText('적립일') }}</th>\\n            <th>{{ languagePack.getText('적립 마일리지') }}</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let item of mileagePlusRes?.rsMap; let i = index;\\\">\\n            <td>{{ i+1 }}</td>\\n            <td>{{ item.ctgo_safe_mileage }}</td>\\n            <td>{{ item.payer_user_name }}</td>\\n            <td>{{ item.create_date }}</td>\\n            <td>{{ regex.replace.price(item.ctgo_safe_mileage_point) }}</td>\\n          </tr>\\n          <tr *ngIf=\\\"mileagePlusRes && mileagePlusRes.rsCode === 1008\\\">\\n            <td colspan=\\\"5\\\">{{ languagePack.getText('안전마일리지 적립 내역이 없습니다.') }}</td>\\n          </tr>\\n        </tbody>\\n      </app-table>\\n\\n      <h4>{{ languagePack.getText('안전 마일리지 사용 내역') }}</h4>\\n\\n      <app-table>\\n        <thead>\\n          <tr>\\n            <th>NO</th>\\n            <th>{{ languagePack.getText('안전 마일리지 사용 내역') }}</th>\\n            <th>{{ languagePack.getText('사용자') }}</th>\\n            <th>{{ languagePack.getText('사용일') }}</th>\\n            <th>{{ languagePack.getText('사용 마일리지') }}</th>\\n            <th>{{ languagePack.getText('지급 상태') }}</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let item of mileageMinusRes?.rsMap; let i = index;\\\">\\n            <td>{{ i+1 }}</td>\\n            <td>{{ item.ctgo_safe_mileage }}</td>\\n            <td>{{ item.payer_user_name }}</td>\\n            <td>{{ item.create_date }}</td>\\n            <td>{{ regex.replace.price(item.ctgo_safe_mileage_point) }}</td>\\n            <td>지급완료</td>\\n          </tr>\\n          <tr *ngIf=\\\"mileageMinusRes && mileageMinusRes.rsCode === 1008\\\">\\n            <td colspan=\\\"6\\\">{{ languagePack.getText('안전마일리지 사용 내역이 없습니다.') }}</td>\\n          </tr>\\n        </tbody>\\n      </app-table>\\n\\n    </div>\\n\\n  </app-container>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}