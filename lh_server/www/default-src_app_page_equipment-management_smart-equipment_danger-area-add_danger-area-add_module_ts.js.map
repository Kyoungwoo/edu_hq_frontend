{"version":3,"sources":["./src/app/page/equipment-management/smart-equipment/danger-area-add/danger-area-add-routing.module.ts","./src/app/page/equipment-management/smart-equipment/danger-area-add/danger-area-add.module.ts","./src/app/page/equipment-management/smart-equipment/danger-area-add/danger-area-add.page.ts","./src/app/page/equipment-management/smart-equipment/danger-area-add/danger-area-add.page.scss","./src/app/page/equipment-management/smart-equipment/danger-area-add/danger-area-add.page.html"],"names":[],"mappings":"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","file":"default-src_app_page_equipment-management_smart-equipment_danger-area-add_danger-area-add_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DangerAreaAddPage } from './danger-area-add.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DangerAreaAddPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DangerAreaAddPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DangerAreaAddPageRoutingModule } from './danger-area-add-routing.module';\n\nimport { DangerAreaAddPage } from './danger-area-add.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { BasicComponentModule } from 'src/app/basic/component/basic.component.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    BasicComponentModule,\n    DangerAreaAddPageRoutingModule\n  ],\n  declarations: [DangerAreaAddPage]\n})\nexport class DangerAreaAddPageModule {}\n","import { SearchDangerousAreaComponent } from './../../../../component/modal/search-dangerous-area/search-dangerous-area.component';\nimport { SearchSerialNumberComponent, SearialItem } from './../../../../component/modal/search-serial-number/search-serial-number.component';\nimport { FileService } from './../../../../basic/service/core/file.service';\nimport { AlertService } from './../../../../basic/service/ionic/alert.service';\nimport { ToastService } from './../../../../basic/service/ionic/toast.service';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectResult, ConnectService } from './../../../../basic/service/core/connect.service';\nimport { Component, OnInit, Input } from '@angular/core';\n\nclass SmartInfoInsertItem {\n  ctgo_machine_serial_id: number = 0;\n  ctgo_machine_serial_name:string = '';\n  serial_id: number = 0;\n  serial_use_state: number = 0;\n  serial_no:string = '';\n  serial_type:string = '';\n  area_risk_id:number = 0;\n  area_risk_name: string = '';\n  area_top_id:number = 0;\n  area_top_name: string = '';\n  area_middle_id:number = 0;\n  area_middle_name: string = '';\n  area_bottom_id:number = 0;\n  area_bottom_name: string = '';\n}\n\n@Component({\n  selector: 'app-danger-area-add',\n  templateUrl: './danger-area-add.page.html',\n  styleUrls: ['./danger-area-add.page.scss'],\n})\nexport class DangerAreaAddPage implements OnInit {\n  @Input() form; // 검색조건\n  @Input() item; // 저장할 아이템\n  // @Input() list; // 디바이스 현황 리스트\n  @Input() ctgo; // 카테고리 리스트\n  @Input() serial_type; // 개인 / 중장비 / 위험지역\n\n  /** @param res - 서버에서 받아온 등록 NO 리스트 */\n  res:ConnectResult<SmartInfoInsertItem>;\n\n  original_item:SmartInfoInsertItem[] = [];\n  insert_list:SmartInfoInsertItem[] = [];\n\n  constructor(\n    private _modal:ModalController,\n    private toast:ToastService,\n    private alert:AlertService,\n    private file:FileService,\n    private connect:ConnectService\n  ) { }\n\n  ngOnInit() {\n    // this.original_item = this.file.clone(this.list);\n  }\n\n  async get(id){\n    const res = await this.connect.run('/device/risk/mo/list', {area_risk_id: id});\n    if(res.rsCode === 0 ) {\n      this.res = {\n        ...this.res,\n        ...res\n      };\n      this.original_item = JSON.parse(JSON.stringify(this.res?.rsMap));\n    }\n    else if (res.rsCode === 1008) {\n      this.res = null;\n      this.original_item = [];\n    }\n    else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n      this.original_item = [];\n    }\n  }\n\n  async select(){\n    const alert = await this.alert.present({\n      message: '저장 하시겠습니까?',\n      buttons: [\n        { text: '아니요' },\n        {\n          text: '예',\n          handler: async () => {\n            let updateItems = [];\n            let insert_promise = null;\n            let update_promise = null;\n            console.log(this.original_item);\n            this.original_item?.map((item,i) => {\n              if(item.serial_use_state != this.res?.rsMap[i].serial_use_state) updateItems.push(this.res?.rsMap[i]);\n            });\n\n            if(!this.insert_list.length && !updateItems.length) this._modal.dismiss();\n            else {\n              if(this.insert_list.length){\n                // 예외처리 후 하나씩 리스트에 추가해준다. - 모든 api가 호출될때까지 기다린다\n                insert_promise = await Promise.all(this.insert_list.map((item) => { return this.SmartSaveMethod(item, 'insert')}));\n              }\n\n              if(updateItems.length){\n                update_promise = await Promise.all(updateItems.map((item) => { return this.SmartSaveMethod(item, 'update')}));\n              }\n              const all_promise = Promise.all([\n                insert_promise,\n                update_promise\n              ]);\n              all_promise.then(() => {\n                this._modal.dismiss(true);\n              });\n            }\n\n            this._modal.dismiss({item: this.item, type: 'insert'});\n          }\n        }\n      ]\n    });\n  }\n\n  /**\n   * @function openModal_SerialMobile(): 등록을 가져오는 모달(앱일경우에만 사용)\n   */\n   public async openModal_SerialMobile() {\n     if(!this.item.area_risk_id) return this.toast.present({ message: '위험지역을 먼저 선택해주세요.', color: 'warning' });\n    const modal = await this._modal.create({\n      component:SearchSerialNumberComponent,\n      componentProps: {\n        form: {\n          serial_type: this.serial_type,\n          project_id: this.form.project_id,\n          master_company_id: this.form.company_id,\n          ctgo_machine_serial_id: 0,\n          search_text: ''\n        },\n        state: 'mobile'\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) {\n      const selectedItem = <SearialItem>data.selectedItem;\n      console.log(selectedItem);\n\n      let addItem = {\n        serial_id: selectedItem.serial_id,\n        serial_no: selectedItem.serial_no,\n        ctgo_machine_serial_id: selectedItem.ctgo_machine_serial_id,\n        ctgo_machine_serial_name: selectedItem.ctgo_machine_serial_name,\n        serial_use_state: 0,\n        serial_type: selectedItem.serial_type,\n        area_risk_id: this.item.area_risk_id,\n        area_risk_name: this.item.area_risk_name,\n        area_top_id: this.item.area_top_id,\n        area_top_name: this.item.area_top_name,\n        area_middle_id: this.item.area_middle_id,\n        area_middle_name: this.item.area_middle_name,\n        area_bottom_id: this.item.area_bottom_id,\n        area_bottom_name: this.item.area_bottom_name,\n        area_full_name: (this.item.area_top_name ? this.item.area_top_name : '')+' '\n                        +(this.item.area_middle_name ? this.item.area_middle_name : '')+' '\n                        +(this.item.area_bottom_name ? this.item.area_bottom_name : '')\n      }\n\n      this.insert_list.push(addItem);\n    }\n  }\n\n  deleteItem(index){\n    this.insert_list.splice(index,1);\n  }\n\n  async changePeople(ev){\n    console.log(ev);\n    if(ev) await this.get(ev);\n  }\n\n  /**\n   * @function SeariaSaveMethod(): Promise가 적용된 insert/update api 호출메서드 입니다.\n   * @param item - insert/update 아이템\n   * @param type - 메서드 타입('insert' | 'update')\n   * @returns resolve(true)\n   */\n   async SmartSaveMethod(item, type: 'insert' | 'update'){\n    return new Promise(async(resolve, reject) => {\n      const res = await this.connect.run('/device/'+type, item);\n      if (res.rsCode === 0) {\n        resolve(true);\n      } else {\n        this.toast.present({ color: 'warning', message: res.rsMsg });\n        resolve(true);\n      }\n    });\n  }\n\n  public async openModal() {\n    const modal = await this._modal.create({\n      component: SearchDangerousAreaComponent,\n      componentProps: {\n        project_id: this.form.project_id\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) {\n      console.log(data);\n      this.item = {\n        ...this.item,\n        ...data\n      }\n      this.item.area_full_name = (data.area_top_name ? data.area_top_name : '')+\n                                  ' '+(data.area_middle_name ? data.area_middle_name : '')+\n                                  ' '+(data.area_bottom_name ? data.area_bottom_name : '');\n\n      this.get(data.area_risk_id);\n      // setTimeout(() => {\n      //   this._modal.dismiss({areaSelectedItem: data, selectType: 'manual'});\n      // },300);\n    }\n  }\n}\n\n\n","export default \".serial-add-class {\\n  display: flex;\\n}\\n\\n.serial-add-class h5 {\\n  flex: 1;\\n}\\n\\n.serial-add-class app-button {\\n  min-height: 30px;\\n  height: 30px;\\n  margin-top: 23px;\\n  font-size: var(--font-size-h5);\\n}\\n\\n.device-delete-btn {\\n  z-index: 9999;\\n  position: absolute;\\n  left: -8px;\\n  top: -8px;\\n  margin: 0;\\n  height: 23px;\\n  width: 23px;\\n  border-radius: 12px;\\n  overflow: hidden;\\n  --background: var(--ion-color-danger);\\n  --padding-start: 0;\\n  --padding-end: 0;\\n  --padding-top: 0;\\n  --padding-bottom: 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhbmdlci1hcmVhLWFkZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxhQUFhO0FBQ2Q7O0FBRkE7RUFJRSxPQUFPO0FBRVQ7O0FBTkE7RUFRRSxnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQiw4QkFBOEI7QUFFaEM7O0FBRUE7RUFDSSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixTQUFTO0VBQ1QsU0FBUztFQUNULFlBQVk7RUFDWixXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixxQ0FBYTtFQUNiLGtCQUFnQjtFQUNoQixnQkFBYztFQUNkLGdCQUFjO0VBQ2QsbUJBQWlCO0FBQ3JCIiwiZmlsZSI6ImRhbmdlci1hcmVhLWFkZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VyaWFsLWFkZC1jbGFzc3tcblx0ZGlzcGxheTogZmxleDtcblxuXHRoNXtcblx0XHRmbGV4OiAxO1xuXHR9XG5cblx0YXBwLWJ1dHRvbntcblx0XHRtaW4taGVpZ2h0OiAzMHB4O1xuXHRcdGhlaWdodDogMzBweDtcblx0XHRtYXJnaW4tdG9wOiAyM3B4O1xuXHRcdGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLWg1KTtcblx0fVxufVxuXG4uZGV2aWNlLWRlbGV0ZS1idG57XG4gICAgei1pbmRleDogOTk5OTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogLThweDtcbiAgICB0b3A6IC04cHg7XG4gICAgbWFyZ2luOiAwO1xuICAgIGhlaWdodDogMjNweDtcbiAgICB3aWR0aDogMjNweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDA7XG4gICAgLS1wYWRkaW5nLWVuZDogMDtcbiAgICAtLXBhZGRpbmctdG9wOiAwO1xuICAgIC0tcGFkZGluZy1ib3R0b206IDA7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-title>장소용 디바이스 등록</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <app-dismiss-button></app-dismiss-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <!-- <ion-toolbar color=\\\"white\\\">\\n    <ion-buttons>\\n      <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"item.ctgo_machine_serial_id\\\">\\n        <ion-segment-button *ngFor=\\\"let data of ctgo\\\" [value]=\\\"data.ctgo_machine_serial_id\\\">{{ data.ctgo_machine_serial_name }}</ion-segment-button>\\n      </ion-segment>\\n    </ion-buttons>\\n  </ion-toolbar> -->\\n</ion-header>\\n<ion-content>\\n  <app-input label=\\\"위험지역\\\" name=\\\"with img\\\" [readonly]=\\\"true\\\" [(ngModel)]=\\\"item.area_full_name\\\" (click)=\\\"openModal()\\\">\\n    <app-img name=\\\"search\\\"></app-img>\\n  </app-input>\\n  <ng-container>\\n    <div class=\\\"serial-add-class\\\">\\n      <h5>디바이스 등록 현황</h5>\\n      <app-button (click)=\\\"openModal_SerialMobile()\\\">추가</app-button>\\n    </div>\\n\\n    <!-- Add Item List -->\\n    <div style=\\\"position: relative;\\\" *ngFor=\\\"let data of insert_list; let i = index;\\\">\\n      <ion-button (click)=\\\"deleteItem(i)\\\" class=\\\"device-delete-btn\\\">\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n\\n      <app-card>\\n        <app-row>\\n          <app-col>\\n            <p>디바이스 구분 : {{ data.ctgo_machine_serial_name }}</p>\\n            <p>등록 NO : {{ data.serial_no }}</p>\\n            <p>등록 타입 : {{ data.serial_type }}</p>\\n          </app-col>\\n\\n          <app-col size=\\\"3\\\">\\n            <p>사용여부</p>\\n            <app-select class=\\\"use-state-class\\\" [(ngModel)]=\\\"data.serial_use_state\\\">\\n              <app-select-option [value]=\\\"1\\\">Y</app-select-option>\\n              <app-select-option [value]=\\\"0\\\">N</app-select-option>\\n            </app-select>\\n          </app-col>\\n        </app-row>\\n      </app-card>\\n    </div>\\n    \\n\\n    <app-card style=\\\"position: relative;\\\" *ngFor=\\\"let data of res?.rsMap\\\">\\n      <app-row>\\n        <app-col>\\n          <p>디바이스 구분 : {{ data.ctgo_machine_serial_name }}</p>\\n          <p>등록 NO : {{ data.serial_no }}</p>\\n          <p>등록 타입 : {{ data.serial_type }}</p>\\n        </app-col>\\n\\n        <app-col size=\\\"3\\\">\\n          <p>사용여부</p>\\n          <app-select class=\\\"use-state-class\\\" [(ngModel)]=\\\"data.serial_use_state\\\">\\n            <app-select-option [value]=\\\"1\\\">Y</app-select-option>\\n            <app-select-option [value]=\\\"0\\\">N</app-select-option>\\n          </app-select>\\n        </app-col>\\n      </app-row>\\n    </app-card>\\n  </ng-container>\\n</ion-content>\\n<app-button-footer>\\n  <app-button (click)=\\\"select()\\\">저장</app-button>\\n</app-button-footer>\\n\\n\";"],"sourceRoot":"webpack:///"}