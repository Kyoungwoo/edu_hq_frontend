{"version":3,"sources":["./src/app/page/notice-board/notice/notice-open-range/notice-open-range-routing.module.ts","./src/app/page/notice-board/notice/notice-open-range/notice-open-range.module.ts","./src/app/page/notice-board/notice/notice-open-range/notice-open-range.page.ts","./src/app/page/notice-board/notice/notice-open-range/notice-open-range.page.scss","./src/app/page/notice-board/notice/notice-open-range/notice-open-range.page.html"],"names":[],"mappings":"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","file":"default-src_app_page_notice-board_notice_notice-open-range_notice-open-range_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NoticeOpenRangePage } from './notice-open-range.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NoticeOpenRangePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NoticeOpenRangePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NoticeOpenRangePageRoutingModule } from './notice-open-range-routing.module';\n\nimport { NoticeOpenRangePage } from './notice-open-range.page';\nimport { ComponentModule } from 'src/app/component/component.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    NoticeOpenRangePageRoutingModule\n  ],\n  declarations: [NoticeOpenRangePage]\n})\nexport class NoticeOpenRangePageModule {}\n","import { Component, Inject, Injectable, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectResult, ConnectService, Validator } from 'src/app/basic/service/core/connect.service';\n\nexport type scopeOne = '현장전체' | '내 소속사만' | '협력사별';\nexport type scopeTwo = '전체' | '관리자' | '작업자';\nexport class NoticePublicScope {\n  scope_company_id: number;\n  scope_company_name: string;\n  public_scope_allstate: boolean;\n  public_scope_one: scopeOne;\n  public_scope_two: scopeTwo;\n}\ninterface scopeItem<T> {\n  value: T,\n  text: string\n}\n\ninterface companyItem {\n  company_ceo: string,\n  company_id: number,\n  company_name: string\n}\n\n@Component({\n  selector: 'app-notice-open-range',\n  templateUrl: './notice-open-range.page.html',\n  styleUrls: ['./notice-open-range.page.scss'],\n})\nexport class NoticeOpenRangePage implements OnInit {\n\n  @Input() form:NoticePublicScope;\n  validator = new Validator(new NoticePublicScope()).validator;\n\n  menuCount:Number = 1;\n  \n  list1:scopeItem<scopeOne>[] = [\n    {\n      value: '현장전체',\n      text:'현장'\n    },\n    {\n      value: '내 소속사만',\n      text:'내 소속'\n    },\n    {\n      value: '협력사별',\n      text:'협력사'\n    }\n  ]\n\n  list2:scopeItem<scopeTwo>[] = [\n    {\n      value: '전체',\n      text:'전체(관리자+작업자)'\n    },\n    {\n      value: '관리자',\n      text:'관리자'\n    },\n    {\n      value: '작업자',\n      text:'작업자'\n    }\n  ]\n\n  res:ConnectResult<companyItem>;\n\n  constructor(\n    private _modal: ModalController,\n    private connect: ConnectService\n  ) { }\n\n  ngOnInit() {\n    this.get();\n  }\n\n  async get(){\n    this.res = await this.connect.run('/category/certify/company/get', {\n      company_contract_type:'협력사',\n      search_text:''\n    });\n  }\n\n\n  select1(item:scopeItem<scopeOne>) {\n    this.form.public_scope_one = item.value;\n    // this.form.public_scope_two\n    this.form.public_scope_allstate = false;\n    this.form.scope_company_id = 0;\n    this.form.scope_company_name = '';\n  }\n\n  select2(item:scopeItem<scopeTwo>) {\n    // this.form.public_scope_one\n    this.form.public_scope_two = item.value;\n    // this.form.public_scope_allstate\n    // this.form.company_id\n    // this.form.company_name\n  }\n  select3All() {\n    this.form.public_scope_allstate = true;\n    this.form.scope_company_id = 0;\n    this.form.scope_company_name = '';\n  }\n  select3(item:companyItem) {\n    // this.form.public_scope_one\n    // this.form.public_scope_two\n    this.form.public_scope_allstate = false;\n    this.form.scope_company_id = item.company_id;\n    this.form.scope_company_name = item.company_name;\n  }\n  \n  submit() {\n    if(!this.valid()) return;\n    this._modal.dismiss(this.form);\n  }\n\n  valid() {\n    if(!this.form.public_scope_one) this.validator.public_scope_one = { valid: false, message: '항목을 선택해주세요.' };\n    else this.validator.public_scope_one = { valid: true };\n\n    if(!this.form.public_scope_two) this.validator.public_scope_two = { valid: false, message: '항목을 선택해주세요.' };\n    else this.validator.public_scope_two = { valid: true };\n\n    if(this.form.public_scope_one === '협력사별') {\n      if(this.form.public_scope_allstate == null) this.validator.scope_company_id = { valid: false, message: '항목을 선택해주세요.' };\n      else if(this.form.public_scope_allstate == false) {\n        if(!this.form.scope_company_id) this.validator.scope_company_id = { valid: false, message: '항목을 선택해주세요.' };\n        else {\n          this.validator.public_scope_allstate = { valid: true };\n          this.validator.scope_company_id = { valid: true };\n          this.validator.scope_company_name = { valid: true };\n        }\n      }\n    } else this.validator.scope_company_id = { valid: true };\n  \n    for(let key in this.validator) {\n      if(!this.validator[key]?.valid) return false;\n    }\n    return true;\n  }\n}\n","export default \"app-col {\\n  padding-left: 0;\\n  padding-right: 0;\\n  border-right: 1px solid var(--ion-color-step-100);\\n}\\n\\n.flex-header {\\n  background: var(--ion-color-medium-translucent);\\n  height: 40px;\\n  text-align: center;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.flex-header app-img {\\n  position: absolute;\\n  right: -10px;\\n  z-index: 1;\\n}\\n\\n.flex-list {\\n  height: 300px;\\n  overflow: auto;\\n  background: var(--ion-color-white);\\n}\\n\\n.flex-list.invalid {\\n  border: 1px solid var(--ion-color-warning);\\n}\\n\\n.flex-item {\\n  cursor: pointer;\\n  padding: 5px;\\n}\\n\\n.flex-item:hover {\\n  background-color: var(--ion-color-step-100);\\n}\\n\\n.flex-item.active {\\n  background-color: var(--ion-color-primary-translucent);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGljZS1vcGVuLXJhbmdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsaURBQWlEO0FBQ2xEOztBQUNBO0VBQ0MsK0NBQStDO0VBQy9DLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0FBRXhCOztBQVRBO0VBU0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixVQUFVO0FBSVo7O0FBREE7RUFDQyxhQUFhO0VBQ2IsY0FBYztFQUNkLGtDQUFrQztBQUluQzs7QUFGQTtFQUNDLDBDQUEwQztBQUszQzs7QUFIQTtFQUNDLGVBQWU7RUFDZixZQUFZO0FBTWI7O0FBSkE7RUFDQywyQ0FBMkM7QUFPNUM7O0FBTEE7RUFDQyxzREFBc0Q7QUFRdkQiLCJmaWxlIjoibm90aWNlLW9wZW4tcmFuZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWNvbCB7XG5cdHBhZGRpbmctbGVmdDogMDtcblx0cGFkZGluZy1yaWdodDogMDtcblx0Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwKTtcbn1cbi5mbGV4LWhlYWRlciB7XG5cdGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0tdHJhbnNsdWNlbnQpO1xuXHRoZWlnaHQ6IDQwcHg7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YXBwLWltZyB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdHJpZ2h0OiAtMTBweDtcblx0XHR6LWluZGV4OiAxO1xuXHR9XG59XG4uZmxleC1saXN0IHtcblx0aGVpZ2h0OiAzMDBweDtcblx0b3ZlcmZsb3c6IGF1dG87XG5cdGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci13aGl0ZSk7XG59XG4uZmxleC1saXN0LmludmFsaWQge1xuXHRib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itd2FybmluZyk7XG59XG4uZmxleC1pdGVtIHtcblx0Y3Vyc29yOiBwb2ludGVyO1xuXHRwYWRkaW5nOiA1cHg7XG59XG4uZmxleC1pdGVtOmhvdmVyIHtcblx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwKTtcbn1cbi5mbGV4LWl0ZW0uYWN0aXZlIHtcblx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktdHJhbnNsdWNlbnQpO1xufSJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-title>게시물 공개 범위 설정</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <app-dismiss-button></app-dismiss-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <app-row mobileBreak>\\n    <app-card *ngIf=\\\"res && res?.rsCode !== 0\\\">{{ res.rsMsg }}</app-card>\\n    <app-col>\\n      <!-- header -->\\n      <div class=\\\"flex-header\\\">\\n        <div>전파 범위</div>\\n        <app-img name=\\\"next\\\"></app-img>\\n      </div>\\n      <div class=\\\"flex-list\\\" [class.invalid]=\\\"validator.public_scope_one?.valid === false\\\">\\n        <!-- item -->\\n        <div *ngFor=\\\"let item of list1\\\" \\n        class=\\\"flex-item\\\" [class.active]=\\\"form.public_scope_one === item.value\\\" (click)=\\\"select1(item)\\\">{{ item.text }}</div>\\n      </div>\\n      <app-input-caption color=\\\"warning\\\" *ngIf=\\\"validator.public_scope_one?.valid === false\\\">{{ validator.public_scope_one.message }}</app-input-caption>\\n    </app-col>\\n    <app-col>\\n      <!-- header -->\\n      <div class=\\\"flex-header\\\">\\n        <div>조회자 유형</div>\\n        <app-img name=\\\"next\\\"></app-img>\\n      </div>\\n      <div class=\\\"flex-list\\\" [class.invalid]=\\\"validator.public_scope_two?.valid === false\\\">\\n        <!-- item -->\\n        <div *ngFor=\\\"let item of list2\\\" \\n        class=\\\"flex-item\\\" [class.active]=\\\"form.public_scope_two === item.value\\\" (click)=\\\"select2(item)\\\">{{ item.text }}</div>\\n      </div>\\n      <app-input-caption color=\\\"warning\\\" *ngIf=\\\"validator.public_scope_two?.valid === false\\\">{{ validator.public_scope_two.message }}</app-input-caption>\\n    </app-col>\\n    <app-col *ngIf=\\\"form.public_scope_one === '협력사별'\\\">\\n      <!-- header -->\\n      <div class=\\\"flex-header\\\">\\n        <div>회사명</div>\\n      </div>\\n      <div class=\\\"flex-list\\\" [class.invalid]=\\\"validator.scope_company_id?.valid === false\\\">\\n        <!-- item -->\\n        <ng-container>\\n          <div class=\\\"flex-item\\\" [class.active]=\\\"form.public_scope_allstate\\\" (click)=\\\"select3All()\\\">전체 협력사</div>\\n          <div *ngFor=\\\"let item of res?.rsMap\\\" \\n          class=\\\"flex-item\\\" [class.active]=\\\"form.scope_company_id === item.company_id\\\" (click)=\\\"select3(item)\\\">{{ item.company_name }}</div>\\n        </ng-container>\\n      </div>\\n      <app-input-caption color=\\\"warning\\\" *ngIf=\\\"validator.scope_company_id?.valid === false\\\">{{ validator.scope_company_id.message }}</app-input-caption>\\n    </app-col>\\n  </app-row>\\n</ion-content>\\n<app-button-footer>\\n  <app-button (click)=\\\"submit()\\\">적용</app-button>\\n</app-button-footer>\";"],"sourceRoot":"webpack:///"}