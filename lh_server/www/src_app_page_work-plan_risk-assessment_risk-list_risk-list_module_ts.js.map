{"version":3,"sources":["./src/app/page/work-plan/risk-assessment/risk-evaluation-edit/risk-evaluation-edit-routing.module.ts","./src/app/page/work-plan/risk-assessment/risk-evaluation-edit/risk-evaluation-edit.module.ts","./src/app/page/work-plan/risk-assessment/risk-evaluation-popup/risk-evaluation-popup-routing.module.ts","./src/app/page/work-plan/risk-assessment/risk-evaluation-popup/risk-evaluation-popup.module.ts","./src/app/page/work-plan/risk-assessment/risk-list/risk-list-routing.module.ts","./src/app/page/work-plan/risk-assessment/risk-list/risk-list.module.ts","./src/app/page/work-plan/risk-assessment/risk-list/risk-list.page.ts","./src/app/page/work-plan/risk-assessment/risk-list/risk-list.page.scss","./src/app/page/work-plan/risk-assessment/risk-list/risk-list.page.html"],"names":[],"mappings":"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","file":"src_app_page_work-plan_risk-assessment_risk-list_risk-list_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RiskEvaluationEditPage } from './risk-evaluation-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RiskEvaluationEditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RiskEvaluationEditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RiskEvaluationEditPageRoutingModule } from './risk-evaluation-edit-routing.module';\n\nimport { RiskEvaluationEditPage } from './risk-evaluation-edit.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { BasicComponentModule } from 'src/app/basic/component/basic.component.module';\nimport { RiskEvaluationPopupPageModule } from '../risk-evaluation-popup/risk-evaluation-popup.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    BasicComponentModule,\n    RiskEvaluationEditPageRoutingModule,\n    RiskEvaluationPopupPageModule\n  ],\n  declarations: [RiskEvaluationEditPage]\n})\nexport class RiskEvaluationEditPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RiskEvaluationPopupPage } from './risk-evaluation-popup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RiskEvaluationPopupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RiskEvaluationPopupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RiskEvaluationPopupPageRoutingModule } from './risk-evaluation-popup-routing.module';\n\nimport { RiskEvaluationPopupPage } from './risk-evaluation-popup.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { BasicComponentModule } from 'src/app/basic/component/basic.component.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    BasicComponentModule,\n    RiskEvaluationPopupPageRoutingModule\n  ],\n  declarations: [RiskEvaluationPopupPage]\n})\nexport class RiskEvaluationPopupPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RiskListPage } from './risk-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RiskListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RiskListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RiskListPageRoutingModule } from './risk-list-routing.module';\n\nimport { RiskListPage } from './risk-list.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { BasicComponentModule } from 'src/app/basic/component/basic.component.module';\nimport { RiskDetailSearchPageModule } from '../risk-detail-search/risk-detail-search.module';\nimport { RiskEvaluationEditPageModule } from '../risk-evaluation-edit/risk-evaluation-edit.module';\nimport { RiskPendingListPageModule } from '../risk-pending-list/risk-pending-list.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    BasicComponentModule,\n    RiskListPageRoutingModule,\n    RiskDetailSearchPageModule,\n    RiskEvaluationEditPageModule,\n    RiskPendingListPageModule\n  ],\n  declarations: [RiskListPage]\n})\nexport class RiskListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectResult, ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { LanguagePackService } from 'src/app/basic/service/core/language-pack.service';\nimport { UserService } from 'src/app/basic/service/core/user.service';\nimport { NavService } from 'src/app/basic/service/ionic/nav.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\nimport { DateService } from 'src/app/basic/service/util/date.service';\nimport { ApprovalAnswerType } from 'src/app/component/confirm/approval/approval.component';\nimport { RiskDetailSearchPage } from '../risk-detail-search/risk-detail-search.page';\nimport { RiskEvaluationEditPage } from '../risk-evaluation-edit/risk-evaluation-edit.page';\nimport { RiskPendingListPage } from '../risk-pending-list/risk-pending-list.page';\n\n\nclass RiskListItem {\n  approval_cnt_answer:ApprovalAnswerType = \"임시저장\";\n  approval_id = 109;\n  company_id = 22;\n  company_name = \"구르미\";\n  create_date = \"2022-04-08\";\n  create_user_id = 3366458717;\n  ctgo_approval_module_name = \"수시 위험성 평가서\";\n  ctgo_construction_id = 9;\n  ctgo_construction_name = \"소방\";\n  index = 1;\n  project_id = 1;\n  risk_asment_end_date = \"2022-04-09\";\n  risk_asment_id = 31;\n  risk_asment_start_date = \"2022-04-09\";\n  risk_asment_type = \"수시\";\n  user_name = \"업체에\";\n  row_count = 0;\n}\n@Component({\n  selector: 'app-risk-list',\n  templateUrl: './risk-list.page.html',\n  styleUrls: ['./risk-list.page.scss'],\n})\nexport class RiskListPage implements OnInit {\n\n  form = { \n    project_id: null,\n    project_name: '',\n    company_id: null,\n    ctgo_construction_id: 0,\n    risk_asment_type: '수시',\n    approval_cnt_answer: '전체',\n    risk_asment_start_date: this.date.today({ year: -1 }),\n    risk_asment_end_date: this.date.today(),\n    search_text: '',\n    limit_no: 0\n  }\n\n  res:ConnectResult<RiskListItem>;\n\n  permission = {\n    company_id: false,\n    add: false\n  }\n\n  event = {\n    get: null\n  }\n\n  selectitem:RiskListItem;\n\n  constructor(\n    private connect: ConnectService,\n    private toast: ToastService,\n    private date: DateService,\n    private _modal: ModalController,\n    public user: UserService,\n    private nav: NavService,\n    public languagePack: LanguagePackService\n  ) { }\n\n  async ngOnInit() {\n    await this.getForm();\n    setTimeout(() => {\n      this.get();\n    },300);\n    \n\n    // event 물리기\n    this.event.get = this.getEvent.bind(this);\n    window.addEventListener('risk-list:get()', this.event.get);\n  }\n  ngOnDestroy() {\n    window.removeEventListener('risk-list:get()', this.event.get);\n  }\n\n  /** event 파트 */\n  getEvent() {\n    this.get(0);\n  }\n\n  /** \n   * permission 과 form 을 가져옴.\n   */\n   async getForm() {\n    const { user_role, belong_data } = this.user.userData;\n\n    this.form.project_id = belong_data.project_id;\n    this.form.project_name = belong_data.project_name;\n\n    if(user_role === 'LH_HEAD'\n    || user_role === 'SUPER_HEAD') {\n\n      this.permission.company_id = true;\n      this.permission.add = false;\n      this.form.company_id = belong_data.company_id;\n\n    }\n    else if(belong_data.company_contract_type === '원청사') {\n\n      this.permission.company_id = false;\n      // 원청사 관리자에게만 보이는 버튼. LH,감리,협력사의 경우 회의 진행 버튼이 없다.(회의록 기획서 9p)\n      this.permission.add = true;\n      this.form.company_id = belong_data.company_id;\n\n    }\n    else if(belong_data.company_contract_type === '협력사') {\n\n      this.permission.company_id = false;\n      this.permission.add = true;\n      this.form.company_id = belong_data.master_company_id;\n      // 협력사는 내 회사가 아니라, 내 원청사를 company_id에 넣어줘야 함\n      // const res = await this.connect.run('/category/certify/search_my_master_company/get', {\n      //   project_id: this.form.project_id,\n      //   search_text: ''\n      // });\n      // if(res.rsCode === 0) {\n      //   const contractor = res.rsMap[0];\n      //   this.form.company_id = contractor.master_company_id;\n      // }\n      // else {\n      //   this.toast.present({ color: 'warning', message: res.rsMsg });\n      // }\n\n    }\n  }\n\n  /**\n   * web, mobile 둘다 검색 시작할 때는 이걸 쓴다.\n   * 이유는 limit_no를 초기화할 필요성이 있기 떄문 + 1008 예외처리가 다르다.\n   */\n  async get(limit_no = this.form.limit_no) {\n    this.form.limit_no = limit_no;\n    this.selectitem = null;\n    \n    this.res = await this.connect.run('/risk/assessment/list/get', this.form, { loading: true });\n    if(this.res.rsCode === 0 ) {\n      this.res.rsMap.forEach((item, i) => {\n        item.index = this.res.rsObj.row_count - this.form.limit_no - i;\n      });\n    }\n    else if (this.res.rsCode === 1008) {\n      // 암것도 안함.\n    }\n    else {\n      this.toast.present({ color: 'warning', message: this.res.rsMsg });\n    }\n  }\n\n  /**\n   * 모바일 무한스크롤 시, 사용된다.\n   */\n  public async getMobile($event) {\n    this.form.limit_no = this.res.rsMap.length;\n    this.selectitem = null;\n\n    const res = await this.connect.run('/risk/assessment/list/get', this.form, {\n    });\n    if(res.rsCode === 0 ) {\n      /**\n       * 모바일은 res를 대체하는 것이 아니라, 데이터를 스크롤 하단에 이어붙여야 함.\n       */\n      res.rsMap.forEach((item, i) => {\n        item.index = res.rsObj.row_count - this.form.limit_no - i;\n        this.res.rsMap.push(item);\n      });\n\n    } else if(res.rsCode === 1008) {\n      /** \n       * 더 로딩할 데이터가 없음. 게시판 형식과는 다르게, 데이터를 떼면, 데이터가 다 날아가기 때문에 데이터를 떼면 안됨.\n       * 아무것도 안하거나, 마지막 리스트라고 알려주기만 하면 됨.\n       */\n    } else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n    setTimeout(() => {\n      $event.target.complete();\n    }, 50);\n  }\n\n  public async openDetailSearch() {\n    const modal = await this._modal.create({\n      component: RiskDetailSearchPage,\n      componentProps: {\n        form: this.form\n      }\n    })\n    modal.present();\n\n    const { data } = await modal.onDidDismiss();\n\n    if(data) {\n      this.form = data;\n      this.get(0);\n    }\n  }\n\n  async add() {\n    const modal = await this._modal.create({\n      component:RiskEvaluationEditPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        project_id: this.form.project_id,\n        risk_asment_type: this.form.risk_asment_type,\n        btn_type: 'add'\n      }\n    });\n    modal.present();\n  }\n\n  async duplicate() {\n    const modal = await this._modal.create({\n      component:RiskEvaluationEditPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        isDuplicate: true,\n        project_id: this.form.project_id,\n        risk_asment_type: this.form.risk_asment_type,\n        risk_asment_id: this.selectitem.risk_asment_id\n      }\n    });\n    modal.present();\n  }\n\n  async edit(item) {\n    const modal = await this._modal.create({\n      component:RiskEvaluationEditPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        risk_asment_id: item.risk_asment_id\n      }\n    });\n    modal.present();\n  }\n\n  /**\n   * 미결함으로 이동\n   */\n   async pending() {\n    const modal = await this._modal.create({\n      component: RiskPendingListPage,\n    });\n    modal.present();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyaXNrLWxpc3QucGFnZS5zY3NzIn0= */\";","export default \"<!-- pc -->\\n<ng-container *mobileHidden>\\n  <app-header-admin></app-header-admin>\\n  <ion-content>\\n    <ion-toolbar color=\\\"white\\\" style=\\\"margin-bottom: 8px;\\\">\\n      <app-row>\\n        <app-col size=\\\"auto\\\">\\n          <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"form.risk_asment_type\\\" (ionChange)=\\\"get(0)\\\">\\n            <ion-segment-button value=\\\"최초\\\">최초</ion-segment-button>\\n            <ion-segment-button value=\\\"정기\\\">정기</ion-segment-button>\\n            <ion-segment-button value=\\\"수시\\\">수시</ion-segment-button>\\n          </ion-segment>\\n        </app-col>\\n      </app-row>\\n    </ion-toolbar>\\n\\n    <app-row style=\\\"align-items: flex-start;\\\">\\n      <app-col size=\\\"280px\\\">\\n        <app-table type=\\\"card\\\">\\n          <ion-toolbar slot=\\\"top\\\" color=\\\"white\\\">\\n            <app-row style=\\\"justify-content: space-between;\\\">\\n              <app-col size=\\\"auto\\\"><h5>필터</h5></app-col>\\n              <app-col size=\\\"auto\\\"><app-button fill=\\\"translucent\\\" style=\\\"width: 100px;\\\" (click)=\\\"get(0)\\\">검색</app-button></app-col>\\n            </app-row>\\n          </ion-toolbar>\\n          <tbody>\\n            <tr>\\n              <td>\\n                <app-select-scene [(ngModel)]=\\\"form.project_id\\\"></app-select-scene>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-select-contractor [project_id]=\\\"form.project_id\\\" [(ngModel)]=\\\"form.company_id\\\"></app-select-contractor>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-select-construction [project_id]=\\\"form.project_id\\\" [master_company_id]=\\\"form.company_id\\\" [(ngModel)]=\\\"form.ctgo_construction_id\\\" [all]=\\\"true\\\"></app-select-construction>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-select-approval-type [(ngModel)]=\\\"form.approval_cnt_answer\\\"></app-select-approval-type>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-input-group label=\\\"작성일\\\">\\n                  <app-calendar [(ngModel)]=\\\"form.risk_asment_start_date\\\" [max]=\\\"form.risk_asment_end_date\\\"></app-calendar>\\n                  ~\\n                  <app-calendar [(ngModel)]=\\\"form.risk_asment_end_date\\\" [min]=\\\"form.risk_asment_start_date\\\"></app-calendar>\\n                </app-input-group>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-input label=\\\"검색어\\\" placeholder=\\\"검색어를 입력해 주세요.\\\" [(ngModel)]=\\\"form.search_text\\\"></app-input>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </app-table>\\n      </app-col>\\n\\n      <app-col>\\n\\n        <ion-toolbar color=\\\"white\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <app-button *ngIf=\\\"permission.add\\\" fill=\\\"translucent\\\" (click)=\\\"add()\\\">신규 작성</app-button>\\n            <app-button *ngIf=\\\"permission.add\\\" fill=\\\"translucent\\\" (click)=\\\"duplicate()\\\" [disabled]=\\\"!selectitem\\\">복사 작성</app-button>\\n            <app-button fill=\\\"translucent\\\" (click)=\\\"pending()\\\">미결 문서</app-button>\\n          </ion-buttons>\\n          <!-- <ion-buttons slot=\\\"end\\\">\\n            <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"form.risk_asment_type\\\" (ionChange)=\\\"get(0)\\\">\\n              <ion-segment-button value=\\\"최초\\\">최초</ion-segment-button>\\n              <ion-segment-button value=\\\"정기\\\">정기</ion-segment-button>\\n              <ion-segment-button value=\\\"수시\\\">수시</ion-segment-button>\\n            </ion-segment>\\n          </ion-buttons> -->\\n        </ion-toolbar>\\n\\n        <ion-toolbar color=\\\"white\\\">\\n          <h5>수시 위험성평가 목록 (총 {{res?.rsObj?.row_count || 0 }}건)</h5>\\n        </ion-toolbar>\\n        <app-radio-group [(ngModel)]=\\\"selectitem\\\">\\n          <app-table>\\n            <thead>\\n              <tr>\\n                <th *ngIf=\\\"!permission.company_id\\\" style=\\\"width: 40px;\\\"></th>\\n                <th style=\\\"width: 40px;\\\">No</th>\\n                <th>공종</th>\\n                <th>서식명</th>\\n                <th>업체명</th>\\n                <th>작업기간</th>\\n                <th>작성자</th>\\n                <th>작성일</th>\\n                <th>결재현황</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr class=\\\"button\\\" *ngFor=\\\"let item of res?.rsMap let i = index\\\" (click)=\\\"edit(item)\\\">\\n                <td *ngIf=\\\"!permission.company_id\\\" (click)=\\\"$event.stopPropagation()\\\">\\n                  <app-radio color=\\\"white\\\" size=\\\"small\\\" name=\\\"check\\\" [value]=\\\"item\\\"></app-radio>\\n                </td>\\n                <td>{{ item.index }}</td>\\n                <td>{{ item.ctgo_construction_name }}</td>\\n                <td>{{ item.ctgo_approval_module_name }}</td>\\n                <td>{{ item.company_name }}</td>\\n                <td>{{ item.risk_asment_start_date }} ~ {{ item.risk_asment_end_date }}</td>\\n                <td>{{ item.user_name }}</td>\\n                <td>{{ item.create_date }}</td>\\n                <td>{{ item.approval_cnt_answer }}</td>\\n              </tr>\\n            </tbody>\\n          </app-table>\\n        </app-radio-group>\\n\\n        <app-pager [totalCount]=\\\"res?.rsObj?.row_count\\\" [limitNo]=\\\"form.limit_no\\\" (pagerChange)=\\\"get($event)\\\"></app-pager>\\n\\n      </app-col>\\n\\n    </app-row>\\n  </ion-content>\\n</ng-container>\\n\\n<!-- 모바일 -->\\n <ng-container *mobileShow>\\n  <ion-header>\\n    <ion-toolbar color=\\\"white\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>위험성 평가 보고</ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n        <app-menu-button></app-menu-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n    <ion-toolbar color=\\\"white\\\">\\n      <app-input-group>\\n        <app-input-template label=\\\"현장\\\">\\n          <p slot=\\\"input\\\">{{ form.project_name }}</p>\\n        </app-input-template>\\n        <app-button (click)=\\\"openDetailSearch()\\\">상세검색</app-button>\\n      </app-input-group>\\n    </ion-toolbar>\\n    <ion-toolbar color=\\\"white\\\">\\n      <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"form.risk_asment_type\\\" (ionChange)=\\\"get(0)\\\">\\n        <ion-segment-button value=\\\"최초\\\">최초</ion-segment-button>\\n        <ion-segment-button value=\\\"정기\\\">정기</ion-segment-button>\\n        <ion-segment-button value=\\\"수시\\\">수시</ion-segment-button>\\n      </ion-segment>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-content>\\n\\n  <app-row>\\n    <app-col></app-col>\\n    <app-col size=\\\"auto\\\">\\n      <app-button fill=\\\"translucent\\\" (click)=\\\"pending()\\\">미결문서</app-button>\\n    </app-col>\\n  </app-row>\\n  <app-card *ngFor=\\\"let item of res?.rsMap\\\" (click)=\\\"edit(item)\\\">\\n    <app-row>\\n      <app-col>\\n        <h5>{{ item.ctgo_approval_module_name }}</h5>\\n      </app-col>\\n      <app-col size=\\\"auto\\\">\\n        <app-chip-approval-answer [approval_cnt_answer]=\\\"item.approval_cnt_answer\\\"></app-chip-approval-answer>\\n      </app-col>\\n    </app-row>\\n    <app-row>\\n      <app-col>\\n        <p>{{ item.company_name }}</p>\\n        <p>작업기간: {{ item.risk_asment_start_date }} ~ {{ item.risk_asment_end_date }}</p>\\n      </app-col>\\n    </app-row>\\n    <ion-badge color=\\\"success\\\">{{ item.ctgo_construction_name }}</ion-badge>\\n  </app-card>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" id=\\\"infinite-scroll\\\" (ionInfinite)=\\\"getMobile($event)\\\">\\n    <ion-infinite-scroll-content loading-spinner=\\\"dots\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n</ion-content>\\n</ng-container>\\n\";"],"sourceRoot":"webpack:///"}