{"version":3,"sources":["./src/app/page/work-plan/work-minutes/qr-safety-in/qr-safety-in-routing.module.ts","./src/app/page/work-plan/work-minutes/qr-safety-in/qr-safety-in.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-edit/worker-minutes-edit-routing.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-edit/worker-minutes-edit.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-pending-list/worker-minutes-pending-list-routing.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-pending-list/worker-minutes-pending-list.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-pending-list/worker-minutes-pending-list.page.ts","./src/app/page/work-plan/work-minutes/worker-minutes-pending-list/worker-minutes-pending-list.page.scss","./src/app/page/work-plan/work-minutes/worker-minutes-pending-list/worker-minutes-pending-list.page.html"],"names":[],"mappings":"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","file":"default-src_app_page_work-plan_work-minutes_worker-minutes-pending-list_worker-minutes-pendin-601f05.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { QrSafetyInPage } from './qr-safety-in.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: QrSafetyInPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class QrSafetyInPageRoutingModule {}\n","import { ComponentModule } from 'src/app/component/component.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { QrSafetyInPageRoutingModule } from './qr-safety-in-routing.module';\n\nimport { QrSafetyInPage } from './qr-safety-in.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    QrSafetyInPageRoutingModule\n  ],\n  declarations: [QrSafetyInPage]\n})\nexport class QrSafetyInPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkerMinutesEditPage } from './worker-minutes-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WorkerMinutesEditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WorkerMinutesEditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WorkerMinutesEditPageRoutingModule } from './worker-minutes-edit-routing.module';\n\nimport { WorkerMinutesEditPage } from './worker-minutes-edit.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { QrSafetyInPageModule } from '../qr-safety-in/qr-safety-in.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    QrSafetyInPageModule,\n    WorkerMinutesEditPageRoutingModule\n  ],\n  declarations: [WorkerMinutesEditPage]\n})\nexport class WorkerMinutesEditPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkerMinutesPendingListPage } from './worker-minutes-pending-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WorkerMinutesPendingListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WorkerMinutesPendingListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WorkerMinutesPendingListPageRoutingModule } from './worker-minutes-pending-list-routing.module';\n\nimport { WorkerMinutesPendingListPage } from './worker-minutes-pending-list.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { WorkerMinutesEditPageModule } from '../worker-minutes-edit/worker-minutes-edit.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    WorkerMinutesPendingListPageRoutingModule,\n    WorkerMinutesEditPageModule\n  ],\n  declarations: [WorkerMinutesPendingListPage]\n})\nexport class WorkerMinutesPendingListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ConnectResult, ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { LanguagePackService } from 'src/app/basic/service/core/language-pack.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\nimport { ApprovalAnswerType } from 'src/app/component/confirm/approval/approval.component';\nimport { WorkerMinutesEditPage } from '../worker-minutes-edit/worker-minutes-edit.page';\n\n@Component({\n  selector: 'app-worker-minutes-pending-list',\n  templateUrl: './worker-minutes-pending-list.page.html',\n  styleUrls: ['./worker-minutes-pending-list.page.scss'],\n})\nexport class WorkerMinutesPendingListPage implements OnInit {\n\n  form = {\n    limit_no: 0\n  }\n\n  res:ConnectResult<{\n    index:number,\n    create_user_id:number, // user_id\n    ctgo_approval_module_name:string,\n    safety_meeting_date:string,\n    company_name:string,\n    user_name:string,\n    create_date:string,\n    approval_cnt_answer:ApprovalAnswerType,\n    row_count:number\n  }>;\n\n  event = {\n    get: null\n  }\n\n  constructor(\n    private connect: ConnectService,\n    private toast: ToastService,\n    private _modal: ModalController,\n    public languagePack: LanguagePackService\n  ) { }\n\n  ngOnInit() {\n    this.get();\n\n    this.event.get = this.getEvent.bind(this);\n    window.addEventListener('approval-list:get()', this.event.get);\n  }\n  ngOnDestroy() {\n    window.removeEventListener('approval-list:get()', this.event.get);\n  }\n\n  getEvent() {\n    this.get(0);\n  }\n\n  async get(limit_no = this.form.limit_no) {\n    this.form.limit_no = limit_no;\n    this.res = await this.connect.run('/board/approval/req/get', this.form, { loading: true });\n    if(this.res.rsCode === 0) {\n      this.res.rsMap.forEach((item, i) => {\n        item.index = this.res.rsObj.row_count - this.form.limit_no - i;\n      });\n    }\n    else if(this.res.rsCode === 1008) {\n      // 암것도 안함\n    }\n    else {\n      this.toast.present({ color: 'warning', message: this.res.rsMsg });\n    }\n  }\n\n  /**\n   * 모바일 무한스크롤 시, 사용된다.\n   */\n   public async getMobile($event) {\n    this.form.limit_no = this.res.rsMap.length;\n\n    const res = await this.connect.run('/board/approval/req/get', this.form, {\n    });\n    if(res.rsCode === 0 ) {\n      /**\n       * 모바일은 res를 대체하는 것이 아니라, 데이터를 스크롤 하단에 이어붙여야 함.\n       */\n      res.rsMap.forEach((item, i) => {\n        item.index = res.rsObj.row_count - this.form.limit_no - i;\n        this.res.rsMap.push(item);\n      });\n\n    } else if(res.rsCode === 1008) {\n      /** \n       * 더 로딩할 데이터가 없음. 게시판 형식과는 다르게, 데이터를 떼면, 데이터가 다 날아가기 때문에 데이터를 떼면 안됨.\n       * 아무것도 안하거나, 마지막 리스트라고 알려주기만 하면 됨.\n       */\n    } else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n    setTimeout(() => {\n      $event.target.complete();\n    }, 50);\n  }\n\n  async edit(item) {\n    const modal = await this._modal.create({\n      component:WorkerMinutesEditPage,\n      componentProps: {\n        safety_meeting_id: item.safety_meeting_id\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) {\n      this.get(0);\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3b3JrZXItbWludXRlcy1wZW5kaW5nLWxpc3QucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-title>미결 문서</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <app-dismiss-button></app-dismiss-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ng-container *mobileHidden>\\n    \\n    <app-table>\\n      <thead>\\n        <tr>\\n          <th style=\\\"width: 48px;\\\">No</th>\\n          <th>회의록 구분</th>\\n          <th style=\\\"width: 100px;\\\">회의 일자</th>\\n          <th style=\\\"width: 100px;\\\">업체명</th>\\n          <th style=\\\"width: 100px;\\\">작성자</th>\\n          <th style=\\\"width: 100px;\\\">작성일</th>\\n          <th style=\\\"width: 100px;\\\">결재 현황</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr class=\\\"button\\\" *ngFor=\\\"let item of res?.rsMap;\\\" (click)=\\\"edit(item)\\\">\\n          <td>{{ item.index }}</td>\\n          <td>{{ item.ctgo_approval_module_name }}</td>\\n          <td>{{ item.safety_meeting_date }}</td>\\n          <td>{{ item.company_name }}</td>\\n          <td>{{ item.user_name }}</td>\\n          <td>{{ item.create_date }}</td>\\n          <td>{{ item.approval_cnt_answer }}</td>\\n        </tr>\\n      </tbody>\\n    </app-table>\\n    \\n    <app-pager [totalCount]=\\\"res?.rsObj?.row_count\\\" [limitNo]=\\\"form.limit_no\\\" (pagerChange)=\\\"get($event)\\\"></app-pager>\\n\\n  </ng-container>\\n\\n  <ng-container *mobileShow>\\n\\n    <app-card *ngFor=\\\"let item of res?.rsMap\\\" (click)=\\\"edit(item)\\\">\\n      <app-row>\\n        <app-col>\\n          <h5>{{ item.ctgo_approval_module_name }}</h5>\\n        </app-col>\\n        <app-col size=\\\"auto\\\">\\n          <app-chip-approval-answer [approval_cnt_answer]=\\\"item.approval_cnt_answer\\\"></app-chip-approval-answer>\\n        </app-col>\\n      </app-row>\\n      <app-row>\\n        <app-col>\\n          <p>{{ item.company_name }}</p>\\n          <p> {{ languagePack.getText('작성일') }} : {{ item.create_date }}</p>\\n        </app-col>\\n      </app-row>\\n    </app-card>\\n    \\n    <ion-infinite-scroll threshold=\\\"100px\\\" id=\\\"infinite-scroll\\\" (ionInfinite)=\\\"getMobile($event)\\\">\\n      <ion-infinite-scroll-content loading-spinner=\\\"dots\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n\\n  </ng-container>\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}