{"version":3,"sources":["./src/app/page/my-page/my-page-type/my-page-type-routing.module.ts","./src/app/page/my-page/my-page-type/my-page-type.module.ts","./src/app/page/my-page/my-page-type/my-page-type.page.ts","./src/app/page/my-page/my-page-type/my-page-type.page.scss","./src/app/page/my-page/my-page-type/my-page-type.page.html"],"names":[],"mappings":"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","file":"src_app_page_my-page_my-page-type_my-page-type_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyPageTypePage } from './my-page-type.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyPageTypePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyPageTypePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyPageTypePageRoutingModule } from './my-page-type-routing.module';\n\nimport { MyPageTypePage } from './my-page-type.page';\nimport { ComponentModule } from 'src/app/component/component.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    MyPageTypePageRoutingModule\n  ],\n  declarations: [MyPageTypePage]\n})\nexport class MyPageTypePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { FutItem, FileBlob, FileJson } from 'src/app/basic/service/core/file.service';\nimport { LanguagePackService } from 'src/app/basic/service/core/language-pack.service';\nimport { UserService } from 'src/app/basic/service/core/user.service';\nimport { AlertService } from 'src/app/basic/service/ionic/alert.service';\nimport { NavService } from 'src/app/basic/service/ionic/nav.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\n\n/** 기본 정보 class */\nclass BasicForm {\n  account_id:string = null; // 아이디\n  user_name:string = null; // 유저 이름\n  user_gender:string = null; // 유저 성별\n  user_email:string = null; // 유저 이메일\n  user_birth:string = null; // 유저 생년월일\n  user_phone:string = null; // 유저 연락처\n  ctgo_country_id:number = null; // 국적 아이디\n  ctgo_country_name:string = null; // 국적 이름\n\n  user_profile_file_data:FutItem[] = []; // 유저 프로필 데이터\n  file:(File|FileBlob)[] = []; // 파일\n  file_json:FileJson = new FileJson(); // 파일 JSON\n\n  update_date:string = null;\n}\n@Component({\n  selector: 'app-my-page-type',\n  templateUrl: './my-page-type.page.html',\n  styleUrls: ['./my-page-type.page.scss'],\n})\nexport class MyPageTypePage implements OnInit {\n\n  userType:'LH' | 'SUPER' | 'MASTER' | 'PARTNER' | 'WORKER' = null;\n\n  constructor(\n    private connect: ConnectService,\n    private toast: ToastService,\n    private alert: AlertService,\n    public user: UserService,\n    private nav: NavService,\n    public languagePack: LanguagePackService\n  ) { }\n\n  ngOnInit() {\n    this.getForm();\n  }\n\n  /**\n   * 데이터 구성 파트\n   */\n   getForm() {\n     /** 유저 타입 */\n    const { user_type, user_role } = this.user.userData;\n    if(user_type === 'COMPANY') {\n      if(user_role.startsWith('MASTER')) {\n        this.userType = 'MASTER';\n      }\n      else {\n        this.userType = 'PARTNER';\n      }\n    }\n    else {\n      this.userType = user_type;\n    }\n  }\n\n  /** 회원 탈퇴 */\n  async withdrawal() {\n    this.alert.present({\n      header: this.languagePack.getText('회원탈퇴를 진행합니다.'),\n      message: `\n        □ ${this.languagePack.getText('회원 탈퇴 시 시스템 이용이 불가능 하며 취소가 불가능 합니다.')}\\n\n        □ ${this.languagePack.getText('회원 탈퇴 후 마지막 출역 현장의 준공일로 부터 3년 후 까지 정보 보관 후 자동 삭제 됩니다.')}\\n\n        □ ${this.languagePack.getText('회원 탈퇴를 원할 시 비밀번호를 입력해주세요.')}\n      `,\n      inputs: [\n        { name: 'account_token', placeholder: this.languagePack.getText('비밀번호'), type: 'password' }\n      ],\n      buttons: [\n        { text: this.languagePack.getText('취소') },\n        { text: this.languagePack.getText('회원 탈퇴'), handler: this.withdrawalHandler.bind(this) }\n      ]\n    });\n  }\n  async withdrawalHandler({ account_token }) {\n    const res = await this.connect.run('/mypage/user/delete', {\n      account_token\n    });\n    if(res.rsCode === 0) {\n      this.user.clear();\n      this.nav.navigateRoot('/login', { \n        force: true, \n        animated: true\n      });\n\n      this.alert.present({\n        header: this.languagePack.getText('회원 탈퇴가 완료되었습니다.'),\n        message: this.languagePack.getText('그동안 이용해주셔서 감사합니다.'),\n        buttons: [\n          { text: this.languagePack.getText('확인') }\n        ]\n      });\n    } else {\n      this.toast.present({ color: 'warning', message: '비밀번호가 올바르지 않습니다.' });\n    }\n  }\n  \n}\n","export default \"ion-content {\\n  --padding-start: 0;\\n  --padding-end: 0;\\n}\\n\\n.profile-row {\\n  padding-left: var(--app-page-padding);\\n  padding-right: var(--app-page-padding);\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n}\\n\\n.profile-row app-avatar {\\n  width: 80px;\\n  height: 80px;\\n}\\n\\nion-item {\\n  --background: var(--ion-color-white);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15LXBhZ2UtdHlwZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBZ0I7RUFDaEIsZ0JBQWM7QUFDbEI7O0FBQ0E7RUFDSSxxQ0FBcUM7RUFDckMsc0NBQXNDO0VBQ3RDLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFFdkI7O0FBTkE7RUFNUSxXQUFXO0VBQ1gsWUFBWTtBQUlwQjs7QUFEQTtFQUNJLG9DQUFhO0FBSWpCIiwiZmlsZSI6Im15LXBhZ2UtdHlwZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAgIC0tcGFkZGluZy1lbmQ6IDA7XG59XG4ucHJvZmlsZS1yb3cge1xuICAgIHBhZGRpbmctbGVmdDogdmFyKC0tYXBwLXBhZ2UtcGFkZGluZyk7XG4gICAgcGFkZGluZy1yaWdodDogdmFyKC0tYXBwLXBhZ2UtcGFkZGluZyk7XG4gICAgcGFkZGluZy10b3A6IDhweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgIGFwcC1hdmF0YXIge1xuICAgICAgICB3aWR0aDogODBweDtcbiAgICAgICAgaGVpZ2h0OiA4MHB4O1xuICAgIH1cbn1cbmlvbi1pdGVtIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci13aGl0ZSk7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/main-user\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{ languagePack.getText('마이페이지') }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-row class=\\\"profile-row\\\">\\n    <app-col size=\\\"auto\\\">\\n      <app-avatar [src]=\\\"user.userData.user_profile\\\"></app-avatar>\\n    </app-col>\\n    <app-col>\\n      <h3>{{ user.userData.user_name }}</h3>\\n      <p>{{ user.userData.belong_data.company_name }}</p>\\n    </app-col>\\n  </app-row>\\n\\n  <ion-list lines=\\\"full\\\">\\n    <ion-item routerLink=\\\"/my-page-info\\\" detail=\\\"true\\\">{{ languagePack.getText('나의 정보') }}</ion-item>\\n\\n    <ion-item *ngIf=\\\"userType === 'WORKER'\\\" \\n    routerLink=\\\"/my-page-health\\\" detail=\\\"true\\\">{{ languagePack.getText('건강 문진') }}</ion-item>\\n    \\n    <ion-item *ngIf=\\\"userType === 'MASTER' || userType === 'PARTNER' || userType === 'WORKER'\\\"\\n    routerLink=\\\"/my-page-education\\\" detail=\\\"true\\\">{{ languagePack.getText('교육 이력') }}</ion-item>\\n    \\n    <ion-item *ngIf=\\\"userType === 'WORKER' || user.userData.user_role === 'PARTNER_HEAD' || user.userData.user_role === 'PARTNER_GENERAL'\\\"\\n    routerLink=\\\"/my-page-mileage\\\" detail=\\\"true\\\">{{ languagePack.getText('안전 마일리지') }}</ion-item>\\n\\n    <ion-item button (click)=\\\"withdrawal()\\\">{{ languagePack.getText('회원 탈퇴') }}</ion-item>\\n  </ion-list> \\n</ion-content>\\n\\n\";"],"sourceRoot":"webpack:///"}