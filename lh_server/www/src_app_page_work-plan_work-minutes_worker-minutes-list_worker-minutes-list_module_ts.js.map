{"version":3,"sources":["./src/app/page/work-plan/work-minutes/worker-minutes-list/worker-minutes-list-routing.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-list/worker-minutes-list.module.ts","./src/app/page/work-plan/work-minutes/worker-minutes-list/worker-minutes-list.page.ts","./src/app/page/work-plan/work-minutes/worker-minutes-list/worker-minutes-list.page.scss","./src/app/page/work-plan/work-minutes/worker-minutes-list/worker-minutes-list.page.html"],"names":[],"mappings":"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","file":"src_app_page_work-plan_work-minutes_worker-minutes-list_worker-minutes-list_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkerMinutesListPage } from './worker-minutes-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WorkerMinutesListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WorkerMinutesListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WorkerMinutesListPageRoutingModule } from './worker-minutes-list-routing.module';\n\nimport { WorkerMinutesListPage } from './worker-minutes-list.page';\nimport { ComponentModule } from 'src/app/component/component.module';\nimport { BasicComponentModule } from 'src/app/basic/component/basic.component.module';\nimport { WorkerMinutesDetailSearchPageModule } from '../worker-minutes-detail-search/worker-minutes-detail-search.module';\nimport { WorkerMinutesSelectTypePageModule } from '../worker-minutes-select-type/worker-minutes-select-type.module';\nimport { WorkerMinutesEditPageModule } from '../worker-minutes-edit/worker-minutes-edit.module';\nimport { WorkerMinutesPendingListPageModule } from '../worker-minutes-pending-list/worker-minutes-pending-list.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    BasicComponentModule,\n    WorkerMinutesListPageRoutingModule,\n    // 모바일 상세검색\n    WorkerMinutesDetailSearchPageModule,\n    // 신규작성 시, 타입 선택\n    WorkerMinutesSelectTypePageModule,\n    // 수정 페이지\n    WorkerMinutesEditPageModule,\n    // 미결함\n    WorkerMinutesPendingListPageModule\n  ],\n  declarations: [WorkerMinutesListPage]\n})\nexport class WorkerMinutesListPageModule {}\n","import { SafetyStateType } from './../../../../component/confirm/chip-safety-state/chip-safety-state.component';\nimport { PeopleViewComponent } from 'src/app/component/modal/people-view/people-view.component';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ModalController, PopoverController } from '@ionic/angular';\nimport { ConnectResult, ConnectService } from 'src/app/basic/service/core/connect.service';\nimport { UserService } from 'src/app/basic/service/core/user.service';\nimport { NavService } from 'src/app/basic/service/ionic/nav.service';\nimport { ToastService } from 'src/app/basic/service/ionic/toast.service';\nimport { DateService } from 'src/app/basic/service/util/date.service';\nimport { WorkerMinutesDetailSearchPage } from '../worker-minutes-detail-search/worker-minutes-detail-search.page';\nimport { WorkerMinutesEditPage } from '../worker-minutes-edit/worker-minutes-edit.page';\nimport { WorkerMinutesPendingListPage } from '../worker-minutes-pending-list/worker-minutes-pending-list.page';\nimport { WorkerMinutesSelectTypePage } from '../worker-minutes-select-type/worker-minutes-select-type.page';\nimport { LanguagePackService } from 'src/app/basic/service/core/language-pack.service';\n\nexport class SafetyMeetingInfo {\n  master_company_id: number;\n  master_company_name: string;\n  company_id: number;\n  company_name: string;\n  create_date: string;\n  safety_meeting_id: number;\n  notice_title: string;\n  safety_meeting_type: string;\n  project_id: number;\n  project_name: string;\n  user_name: string;\n  user_id:number;\n  row_count: number;\n  safety_meeting_date: string;\n  index: number;\n  safety_meeting_state:SafetyStateType;\n  safety_meeting_time:string;\n  safety_meeting_date_week_day:string;\n  safety_meeting_place: string;\n  // approval_cnt_answer:string;\n}\n@Component({\n  selector: 'app-worker-minutes-list',\n  templateUrl: './worker-minutes-list.page.html',\n  styleUrls: ['./worker-minutes-list.page.scss'],\n})\nexport class WorkerMinutesListPage implements OnInit, OnDestroy {\n\n  form = { \n    project_id: null,\n    master_company_id: null,\n    safety_meeting_type: '전체',\n    start_date: this.date.today({ year: -3 }),\n    end_date: this.date.today(),\n    search_text: '',\n    // approval_cnt_answer: '전체',\n    limit_no: 0,\n    safety_meeting_state: '전체' as SafetyStateType\n  }\n\n  res:ConnectResult<SafetyMeetingInfo>;\n  resFavorite:ConnectResult;\n\n  permission = {\n    company_id: false,\n    add: false\n  }\n\n  event = {\n    get: null\n  }\n\n  constructor(\n    private modal: ModalController,\n    private connect: ConnectService,\n    private toast: ToastService,\n    private date: DateService,\n    public user: UserService,\n    private nav: NavService,\n    private popover: PopoverController,\n    public languagePack: LanguagePackService\n  ) { }\n\n  async ngOnInit() {\n    await this.getForm();\n    this.get();\n\n    // event 물리기\n    this.event.get = this.getEvent.bind(this);\n    window.addEventListener('worker-minutes-list:get()', this.event.get);\n  }\n  ngOnDestroy() {\n    window.removeEventListener('worker-minutes-list:get()', this.event.get);\n  }\n\n  /** event 파트 */\n  getEvent() {\n    this.get(0);\n  }\n\n  /** \n   * permission 과 form 을 가져옴.\n   */\n  async getForm() {\n    const { user_role, belong_data } = this.user.userData;\n\n    this.form.project_id = belong_data.project_id;\n    this.form.master_company_id = belong_data.master_company_id;\n\n    if(belong_data.company_contract_type === 'LH'\n    || belong_data.company_contract_type === '감리사') {\n\n      this.permission.company_id = true;\n      this.permission.add = false;\n      this.form.master_company_id = 0;\n\n    }\n    else if(belong_data.company_contract_type === '원청사') {\n\n      this.permission.company_id = false;\n      // 원청사 관리자에게만 보이는 버튼. LH,감리,협력사의 경우 회의 진행 버튼이 없다.(회의록 기획서 9p)\n      this.permission.add = true;\n\n    }\n    else if(belong_data.company_contract_type === '협력사') {\n\n      this.permission.company_id = false;\n      this.permission.add = false;\n\n    }\n  }\n\n  /**\n   * web, mobile 둘다 검색 시작할 때는 이걸 쓴다.\n   * 이유는 limit_no를 초기화할 필요성이 있기 떄문 + 1008 예외처리가 다르다.\n   */\n  async get(limit_no = this.form.limit_no) {\n    this.form.limit_no = limit_no;\n    \n    let trans_form = JSON.parse(JSON.stringify(this.form));\n    trans_form.project_id = trans_form.project_id ? [trans_form.project_id] : [];\n    this.res = await this.connect.run('/board/safety_meeting/list', this.form, { loading: true });\n    if(this.res.rsCode === 0 ) {\n      this.res.rsMap.forEach((item, i) => {\n        switch(item.safety_meeting_type){\n          case '노사':\n            item.safety_meeting_type = '노사 협의체';\n          break;\n          case '안전':\n            item.safety_meeting_type = '안전 및 보건의 관한 협의체';\n          break;\n          case '산업':\n            item.safety_meeting_type = '산업안전보건보건위원회';\n          break;\n        }\n        item.index = this.res.rsObj.row_count - this.form.limit_no - i;\n      });\n    }\n    else if (this.res.rsCode === 1008) {\n      // 암것도 안함.\n    }\n    else {\n      this.toast.present({ color: 'warning', message: this.res.rsMsg });\n    }\n  }\n\n  /**\n   * 모바일 무한스크롤 시, 사용된다.\n   */\n  public async getMobile($event) {\n    this.form.limit_no = this.res.rsMap.length;\n\n    const res = await this.connect.run('/board/safety_meeting/list', this.form, {\n    });\n    if(res.rsCode === 0 ) {\n      /**\n       * 모바일은 res를 대체하는 것이 아니라, 데이터를 스크롤 하단에 이어붙여야 함.\n       */\n      res.rsMap.forEach((item, i) => {\n        item.index = res.rsObj.row_count - this.form.limit_no - i;\n        this.res.rsMap.push(item);\n      });\n\n    } else if(res.rsCode === 1008) {\n      /** \n       * 더 로딩할 데이터가 없음. 게시판 형식과는 다르게, 데이터를 떼면, 데이터가 다 날아가기 때문에 데이터를 떼면 안됨.\n       * 아무것도 안하거나, 마지막 리스트라고 알려주기만 하면 됨.\n       */\n    } else {\n      this.toast.present({ color: 'warning', message: res.rsMsg });\n    }\n    setTimeout(() => {\n      $event.target.complete();\n    }, 50);\n  }\n\n  /**\n   * 모바일 상세검색 팝업. PC에서는 안씀\n   */\n  async detailSearch() {\n    const modal = await this.modal.create({\n      component: WorkerMinutesDetailSearchPage,\n      componentProps:{\n        form: this.form\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) {\n      this.form = data;\n      this.get(0);\n    }\n  }\n\n  /**\n   * 회의록 추가\n   */\n  async add() {\n    const modal = await this.modal.create({\n      component: WorkerMinutesEditPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        project_id: this.form.project_id\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) this.get();\n  }\n\n  async edit(item:SafetyMeetingInfo) {\n    const modal = await this.modal.create({\n      component: WorkerMinutesEditPage,\n      cssClass: 'risk-evaluation-class',\n      componentProps: {\n        safety_meeting_id: item.safety_meeting_id\n      }\n    });\n    modal.present();\n    const { data } = await modal.onDidDismiss();\n    if(data) this.get();\n  }\n\n  /**\n   * 미결함으로 이동\n   */\n   async pending() {\n    const modal = await this.modal.create({\n      component: WorkerMinutesPendingListPage,\n    });\n    modal.present();\n  }\n\n  async userInfo(education_safe_manager_id,ev) {\n    ev.stopPropagation();\n    const popover = await this.popover.create({\n      component:PeopleViewComponent,\n      componentProps:{\n        type:'관리자',\n        education_safe_manager_id\n      },\n      cssClass:'education-info',\n      event:ev\n    });\n    popover.present();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3b3JrZXItbWludXRlcy1saXN0LnBhZ2Uuc2NzcyJ9 */\";","export default \"<ng-container *mobileHidden>\\n  <app-header-admin></app-header-admin>\\n  <ion-content style=\\\"--padding-top:15px\\\">\\n    <app-row style=\\\"align-items: flex-start;\\\">\\n      <app-col size=\\\"280px\\\">\\n        <app-table type=\\\"card\\\">\\n          <ion-toolbar slot=\\\"top\\\" color=\\\"white\\\">\\n            <app-row style=\\\"justify-content: space-between;\\\">\\n              <app-col size=\\\"auto\\\"><h5>필터</h5></app-col>\\n              <app-col size=\\\"auto\\\"><app-button fill=\\\"translucent\\\" style=\\\"width: 100px;\\\" (click)=\\\"get(0)\\\">검색</app-button></app-col>\\n            </app-row>\\n          </ion-toolbar>\\n          <tbody>\\n            <tr>\\n              <td>\\n                <app-select-scene [(ngModel)]=\\\"form.project_id\\\"></app-select-scene>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-select-contractor [project_id]=\\\"form.project_id\\\" [(ngModel)]=\\\"form.master_company_id\\\" [disabled]=\\\"!permission.company_id\\\"></app-select-contractor>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-select label=\\\"회의유형\\\" [(ngModel)]=\\\"form.safety_meeting_type\\\">\\n                  <app-select-option value=\\\"전체\\\">전체</app-select-option>\\n                  <app-select-option value=\\\"안전\\\">안전 및 보건에 관한 협의체 회의록</app-select-option>\\n                  <app-select-option value=\\\"노사\\\">노사 협의체 회의록</app-select-option>\\n                  <app-select-option value=\\\"산업\\\">산업안전보건위원회 회의록</app-select-option>\\n                </app-select>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-input-group label=\\\"회의일\\\">\\n                  <app-calendar name=\\\"start_date\\\" [(ngModel)]=\\\"form.start_date\\\" [max]=\\\"form.end_date\\\"></app-calendar>\\n                  ~\\n                  <app-calendar name=\\\"end_date\\\" [(ngModel)]=\\\"form.end_date\\\" [min]=\\\"form.start_date\\\"></app-calendar>\\n                </app-input-group>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <!-- <app-select-approval-type [(ngModel)]=\\\"form.approval_cnt_answer\\\"></app-select-approval-type> -->\\n                <app-select label=\\\"회의 상태\\\" [(ngModel)]=\\\"form.safety_meeting_state\\\">\\n                  <app-select-option value=\\\"전체\\\">전체</app-select-option>\\n                  <app-select-option value=\\\"회의 전\\\">회의 전</app-select-option>\\n                  <app-select-option value=\\\"회의 중\\\">회의 중</app-select-option>\\n                  <app-select-option value=\\\"회의 종료\\\">회의 종료</app-select-option>\\n                </app-select>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>\\n                <app-input label=\\\"검색어\\\" [(ngModel)]=\\\"form.search_text\\\" placeholder=\\\"검색어를 입력해 주세요.\\\"></app-input>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </app-table>\\n      </app-col>\\n\\n      <app-col>\\n\\n        <ion-toolbar color=\\\"white\\\">\\n\\n          <ion-buttons slot=\\\"start\\\">\\n            <app-button *ngIf=\\\"permission.add\\\" fill=\\\"translucent\\\" (click)=\\\"add()\\\">회의 개설</app-button>\\n            <!-- <app-button fill=\\\"translucent\\\" (click)=\\\"pending()\\\">미결문서</app-button> -->\\n          </ion-buttons>\\n\\n        </ion-toolbar>\\n\\n        <ion-toolbar color=\\\"white\\\">\\n          <h5>회의록 목록 (총 {{res?.rsObj?.row_count || 0 }}건)</h5>\\n        </ion-toolbar>\\n          <app-table>\\n            <thead>\\n              <tr>\\n                <th style=\\\"width:48px;\\\">No</th>\\n                <th>원청사</th>\\n                <th>회의록</th>\\n                <th>회의 일자</th>\\n                <th>회의 시간</th>\\n                <th>개설자</th>\\n                <th>회의 상태</th>\\n              </tr>\\n            </thead>\\n              <tr class=\\\"button\\\" *ngFor=\\\"let item of res?.rsMap let i = index\\\" (click)=\\\"edit(item)\\\">\\n                <td>{{ i+1 }}</td>\\n                <td>{{ item.master_company_name }}</td>\\n                <td>{{ item.safety_meeting_type }}</td>\\n                <td>{{ item.safety_meeting_date }}</td>\\n                <td>{{ item.safety_meeting_time }}</td>\\n                <td (click)=\\\"userInfo(item.user_id,$event)\\\">{{ item.user_name }}</td>\\n                <td>{{ item.safety_meeting_state }}</td>\\n              </tr>\\n            <tbody>\\n            </tbody>\\n          </app-table>\\n          \\n          <app-pager [totalCount]=\\\"res?.rsObj?.row_count\\\" [limitNo]=\\\"form.limit_no\\\" (pagerChange)=\\\"get($event)\\\"></app-pager>\\n\\n\\n\\n      </app-col>\\n\\n    </app-row>\\n  </ion-content> \\n</ng-container>\\n\\n\\n\\n<ng-container *mobileShow>\\n  <ion-header>\\n    <ion-toolbar color=\\\"white\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>{{ languagePack.getText('회의록') }}</ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n        <app-menu-button></app-menu-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n    <ion-toolbar color=\\\"white\\\">\\n      <app-input-group>\\n        <!-- <app-input label=\\\"현장\\\" value=\\\"수원 당수 현장\\\" [readonly]=\\\"true\\\"></app-input> -->\\n        <app-select-scene name=\\\"project_id\\\" [all]=\\\"true\\\" [(ngModel)]=\\\"form.project_id\\\" [disabled]=\\\"true\\\"></app-select-scene>\\n        <app-button (click)=\\\"detailSearch()\\\">{{ languagePack.getText('상세검색') }}</app-button>\\n      </app-input-group>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n    <app-row>\\n      <app-col></app-col>\\n      <app-col size=\\\"auto\\\">\\n        <app-button *ngIf=\\\"permission.add\\\" fill=\\\"translucent\\\" (click)=\\\"add()\\\">회의 개설</app-button>\\n        <!-- <app-button fill=\\\"translucent\\\" (click)=\\\"pending()\\\">미결문서</app-button> -->\\n      </app-col>\\n    </app-row>\\n    \\n    <app-card *ngFor=\\\"let item of res?.rsMap\\\" (click)=\\\"edit(item)\\\">\\n      <app-row style=\\\"align-items: flex-start;\\\">\\n        <app-col>\\n          <h5>{{ item.safety_meeting_type }}</h5>\\n\\n        </app-col>\\n        <app-col size=\\\"auto\\\">\\n          <chip-safety-state [safety_meeting_state]=\\\"item.safety_meeting_state\\\"></chip-safety-state>\\n        </app-col>\\n      </app-row>\\n      <app-row>\\n        <app-col>\\n          <p>{{ item.master_company_name }} / {{ item.safety_meeting_place }} / {{ item.user_name }}</p>\\n          <p>회의일: {{ item.safety_meeting_date }} / {{ item.safety_meeting_time+'('+item.safety_meeting_date_week_day+')' }}</p>\\n          <!-- <ion-badge color=\\\"success\\\">{{ item.safety_meeting_state }}</ion-badge> -->\\n        </app-col>\\n      </app-row>\\n    </app-card>\\n    \\n    <ion-infinite-scroll threshold=\\\"100px\\\" id=\\\"infinite-scroll\\\" (ionInfinite)=\\\"getMobile($event)\\\">\\n      <ion-infinite-scroll-content loading-spinner=\\\"dots\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </ion-content>\\n</ng-container>\";"],"sourceRoot":"webpack:///"}