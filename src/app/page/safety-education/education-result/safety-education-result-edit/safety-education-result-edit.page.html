<ion-header>
  <ion-toolbar>
    <ion-title>
      <h4>원청사 로고</h4>
    </ion-title>
    <ion-buttons slot="end">
      <app-dismiss-button></app-dismiss-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <app-row>
    <app-col>
      <h3>정기 교육 결과 보고서</h3>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent" (click)="edit('임시저장')">임시저장</app-button>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent">결재선</app-button>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent">결재요청</app-button>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent">결재회수</app-button>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent">인쇄</app-button>
    </app-col>
  </app-row>
  <app-row>
    <app-col></app-col>
    <app-col></app-col>
    <app-col size="auto">
      <app-table style="width: 400px;">
        <thead>
          <tr>
            <th rowspan="2" style="text-align: center;vertical-align: middle;">결<br>재</th>
            <th>작성</th>
            <th>검토</th>
            <th>검토</th>
            <th>확인</th>
          </tr>
          <tr style="height: 70px;">
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </thead>
      </app-table>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <h4>기본 정보</h4>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <app-input [disabled]="true" [(ngModel)]="getDetilItem.project_name" label="현장명"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="업체명" [(ngModel)]="getDetilItem.company_name"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="작성일" [(ngModel)]="getDetilItem.create_date"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="작성자" [(ngModel)]="getDetilItem.user_name"></app-input>
    </app-col>
  </app-row>
  <app-row>
    <app-col size="9">
      <app-input [disabled]="true" [(ngModel)]="getDetilItem.ctgo_education_safe_name" label="교육명"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="교육대상" [(ngModel)]="getDetilItem.education_safe_target"></app-input>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <app-input [disabled]="true" label="교육장소" [(ngModel)]="getDetilItem.education_safe_place"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="교육일" [(ngModel)]="getDetilItem.education_safe_date"></app-input>
    </app-col>
    <app-col>
      <app-input [disabled]="true" label="교육시간" [value]="getDetilItem.education_all_tiem"></app-input>
    </app-col>
    <app-col>
      <app-input label="강사" [(ngModel)]="getDetilItem.education_safe_report_instructor"></app-input>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <h4>교육 내용</h4>
      <app-textarea [rows]="10" [(ngModel)]="getDetilItem.education_safe_report_text"></app-textarea>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <h4>교육 자료</h4>
    </app-col>
    <app-col size="auto">
      <app-button fill="translucent">
        <app-file view_type="REPORT" [multiple]="true" 
        [(ngModel)]="getDetilItem.education_safe_report_file_data"
        [file]="getDetilItem.file"
        [file_json]="getDetilItem.file_json">
        </app-file>
        첨부
      </app-button>
    </app-col>
  </app-row>
  <app-row>
    <app-col>
      <app-card *ngFor="let file of getDetilItem.education_safe_report_file_data" target="_blank">
        <a [href]="file.full_url" download>{{ file.file_name }}</a>
      </app-card>
    </app-col>
  </app-row>
  <ng-container *ngIf="disabled">
    <app-row>
      <app-col>
        <h4>참석자 명단</h4>
      </app-col>
      <!-- <app-col size="auto">
        <app-button color="danger" fill="translucent">출석삭제</app-button>
      </app-col>
      <app-col size="auto">
        <app-button fill="translucent">출석등록(검색)</app-button>
      </app-col>
      <app-col size="auto">
        <app-button fill="translucent">출석등록(QR)</app-button>
      </app-col> -->
    </app-row>
    <app-table>
      <thead>
        <tr>
          <th style="width: 40px;">No</th>
          <th>업체명</th>
          <th>성명</th>
          <th style="width: 170px;">서명일시</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of res?.rsMap let i = index">
          <td>{{ i + 1}}</td>
          <td>{{ item.company_name }}</td>
          <td>{{ item.user_name }}</td>
          <td>{{ item.create_date}}</td>
        </tr>
      </tbody>
    </app-table>
  </ng-container>
  <ng-container *ngIf="disabled">
    <app-row>
      <app-col>
        <h4>결재 의견</h4>
      </app-col>
    </app-row>
    <app-table>
      <thead>
        <tr>
          <th>구분</th>
          <th>결재</th>
          <th>성명</th>
          <th>업체명</th>
          <th>결재 일시</th>
          <th>결재 의견</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>검토자</td>
          <td>승인</td>
          <td>정대현</td>
          <td>지에스아이엘</td>
          <td>21.04.23 17:26</td>
          <td>-</td>
        </tr>
        <tr>
          <td>승인자</td>
          <td>승인</td>
          <td>이은주</td>
          <td>지에스아이엘</td>
          <td>21.04.23 17:26</td>
          <td>승인 합니다.</td>
        </tr>
      </tbody>
    </app-table>
  </ng-container>
</ion-content>