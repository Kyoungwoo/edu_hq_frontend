
<!-- 모바일 -->
<ng-container *mobileShow>
<ion-header>
  <ion-toolbar color="white">
    <ion-title>사용자 메뉴얼</ion-title>
    <ion-buttons slot="end">
      <app-menu-button></app-menu-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar color="white">
    <app-row>
      <app-col>
        <app-input-group label="구분">
          <app-select placeholder="선택">
            <app-select-option value="로그인">로그인</app-select-option>
            <app-select-option value="회원가입">회원가입</app-select-option>
            <app-select-option value="회원관리">회원관리</app-select-option>
            <app-select-option value="마이페이지">마이페이지</app-select-option>
            <app-select-option value="현장관리">현장관리</app-select-option>
          </app-select>
        </app-input-group>
      </app-col>
      <app-button (click)="openDetailSearch()">상세검색</app-button>
    </app-row>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ng-container>
    <app-card>
      <app-row style="align-items: flex-start;">
        <app-col>
          <h5>작업계획서 작성 메뉴얼</h5>
          <p>한국토지 주택공사/박소현</p>
          <p>작성일:2021.10.18</p>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <ion-badge color="success">작업계획</ion-badge>
        </app-col>
      </app-row>
    </app-card>
    <app-card>
      <app-row style="align-items: flex-start;">
        <app-col>
          <h5>안전교육 메뉴얼</h5>
          <p>한국토지 주택공사/박소현</p>
          <p>작성일:2021.10.18</p>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <ion-badge color="success">안전교육</ion-badge>
        </app-col>
      </app-row>
    </app-card>
    <app-card>
      <app-row style="align-items: flex-start;">
        <app-col>
          <h5>장비관리 메뉴얼</h5>
          <p>한국토지 주택공사/박소현</p>
          <p>작성일:2021.10.18</p>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <ion-badge color="success">장비관리</ion-badge>
        </app-col>
      </app-row>
    </app-card>
    <app-card>
      <app-row style="align-items: flex-start;">
        <app-col>
          <h5>회원가입 메뉴얼</h5>
          <p>한국토지 주택공사/박소현</p>
          <p>작성일:2021.10.18</p>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <ion-badge color="success">회원가입</ion-badge>
        </app-col>
      </app-row>
    </app-card>
    <app-card>
      <app-row style="align-items: flex-start;">
        <app-col>
          <h5>안전 마일리지 사용 메뉴얼</h5>
          <p>한국토지 주택공사/박소현</p>
          <p>작성일:2021.10.18</p>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <ion-badge color="success">안전 마일리지</ion-badge>
        </app-col>
      </app-row>
    </app-card>
  </ng-container>
</ion-content>
</ng-container>

<!-- pc -->
<ng-container *mobileHidden>
<ion-header>
  <app-header-admin></app-header-admin>
</ion-header>
<ion-content>
<app-row style="align-items: flex-start;">
  <app-col size="280px">
    <app-table type="card">
      <ion-toolbar slot="top" color="white">
        <app-row style="justify-content: space-between;">
          <app-col size="auto"><h5>필터</h5></app-col>
          <app-col size="auto">
            <app-button fill="translucent" style="width: 100px;" (click)="get()">검색</app-button>
          </app-col>
        </app-row>
      </ion-toolbar>
      <tbody>
        <tr>
          <td>
            <app-select label="구분" [(ngModel)]="form.ctgo_manual_ids" [multiple]="true">
              <app-select-option type="all" [value]="[]">전체</app-select-option>
              <app-select-option *ngFor="let item of resMenualCtgo?.rsMap" [value]="item.ctgo_manual_id">{{ item.ctgo_manual_name }}</app-select-option>
            </app-select>
          </td>
        </tr>
        <tr>
          <td>
            <app-input-group label="등록일" [required]="true">
              <app-calendar name="start_date" [(ngModel)]="form.start_date" [max]="form.end_date"></app-calendar>
              ~
              <app-calendar name="end_date" [(ngModel)]="form.end_date" [min]="form.start_date"></app-calendar>
            </app-input-group>
          </td>
        </tr>
        <tr>
          <td>
            <app-input label="검색어" placeholder="검색어를 입력해주세요." [(ngModel)]="form.search_text"></app-input>
          </td>
        </tr>
      </tbody>
    </app-table>
  </app-col>
  <app-col>
    <ion-toolbar color="white">
      <ion-buttons slot="start">
        <app-button fill="translucent" (click)="edit()">등록</app-button>
      </ion-buttons>
    </ion-toolbar>
    <ion-toolbar color="white">
      <h5>사용자 메뉴얼 목록 (총 {{ res?.rsMap?.length || 0 }}건)</h5>
    </ion-toolbar>
    <ng-container *ngIf="res">
      <ng-container *ngIf="res.rsCode === 0 else tempFail">
        <app-table>
          <thead>
            <tr>
              <th style="width: 100px;">
                상단노출
              </th>
              <th>제목</th>
              <th>업체명</th>
              <th>작성자</th>
              <th>작성일</th>
              <th>조회수</th>
            </tr>
          </thead>
          <tbody>
            <tr class="button" *ngFor="let item of res?.rsMap" (click)="edit(item)">
              <td (click)="favoritesCheck($event, item)">
                <app-button size="small" shape="square" fill="translucent"
                [color]="item.favorites_state ? 'star' : 'medium'">
                  <ion-icon name="star"></ion-icon>
                </app-button>
              </td>
              <td>안전교육</td>
              <td>안전교육 메뉴얼</td>
              <td>한국토지주택공사</td>
              <td>박소현</td>
              <td>2021.10.26</td>
              <td>30</td>
            </tr>
          </tbody>
        </app-table>
      </ng-container>
      <ng-template #tempFail>
        <app-card>{{ res.rsMsg }}</app-card>
      </ng-template>
    </ng-container>
  </app-col>
</app-row>
</ion-content>
</ng-container>
