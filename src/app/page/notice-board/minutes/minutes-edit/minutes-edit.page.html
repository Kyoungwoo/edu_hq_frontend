<ion-header>
  <ion-toolbar>
    <ion-title>
      <h4>원청사 로고</h4>
    </ion-title>
    <ion-buttons slot="end">
      <app-dismiss-button></app-dismiss-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
  <ion-content>
    <app-row>
      <app-col>
        <h3 style="text-align: center; margin-bottom: 50px;">안전 및 보건에 관한 협의체 회의록</h3>
      </app-col>
      <app-col size="auto">
        <app-button style="margin-bottom: 50px;" fill="translucent">인쇄</app-button>
      </app-col>
    </app-row>
    <app-row mobileBreak>
      <app-col>
        <h4>기본 정보</h4>
      </app-col>
    </app-row>
    <app-row mobileBreak>
      <app-col>
        <app-input label="현장명" [(ngModel)]="form.project_name" [readonly]="true"></app-input>
      </app-col >
      <app-col mobileBreak>
        <app-input label="작성일" [(ngModel)]="form.create_date" [readonly]="true"></app-input>
      </app-col>
      <app-col>
        <app-input label="작성자" [(ngModel)]="form.user_name" [readonly]="true"></app-input>
      </app-col>
    </app-row>
   <app-row mobileBreak>
    <app-col>
        <app-input label="회의록 구분" [(ngModel)]="form.safety_meeting_type" [readonly]="true" ></app-input>
    </app-col>
    <app-col>
      <app-input label="회의 일자" [(ngModel)]="form.safety_meeting_date" [readonly]="true"></app-input>
    </app-col>
    <app-col>
        <app-input label="회의장소" [(ngModel)]="form.safety_meeting_place" [readonly]="true"></app-input>
    </app-col>
  </app-row>
  <h4>회의 내용</h4>
  <app-row mobileBreak>
      <app-col>
          <app-textarea [rows]="10" label="협의 사항" [(ngModel)]="form.safety_meeting_content" [readonly]="true"></app-textarea>
      </app-col>
      <app-col>
          <app-textarea [rows]="10" label="의결 사항" [(ngModel)]="form.safety_meeting_resolve" [readonly]="true"></app-textarea>
      </app-col>
  </app-row>
  <h4>기타 사항</h4>
  <app-textarea [rows]="3" [(ngModel)]="form.safety_meeting_etc"></app-textarea>
  <app-row mobileBreak>
    <app-col>
      <h4>첨부 자료</h4>
    </app-col>
    </app-row>
    <app-table>
      <tr *ngFor="let item of form.safety_meeting_file_data let i = index">
        <td *ngIf="item.view_type==='SAFETY_MEETING'">
          <app-row>
            <app-col>
              <a [href]="item.full_url" target="_blank" [download]="item.file_name">
                <ion-icon name="save-outline"></ion-icon>
                {{ item.file_name }}
              </a>
            </app-col>
            <app-col size="auto">
              <app-button shape="circle" size="small" fill="translucent" color="danger" (click)="form.safety_meeting_file_data.splice(i,1)">
                <app-img name="minus"></app-img>
              </app-button>
            </app-col> 
          </app-row>
          <ion-row
          *ngIf="item.content_type.startsWith('image')">  
            <ion-col>
              <div class="image-detail">이미지 미리보기</div>
              <app-img class="image-class" [src]="item.full_url"></app-img>
            </ion-col>
          </ion-row>
        </td>
      </tr>
    </app-table>
  <!-- <app-row>
    <app-col>
      <app-card href="https://i.ytimg.com/vi/b3rBSubQufc/maxresdefault.jpg" download="tree.jpg" target="_blank">
        6월 공정일정
      </app-card>
    </app-col>
  </app-row> -->
</ion-content>