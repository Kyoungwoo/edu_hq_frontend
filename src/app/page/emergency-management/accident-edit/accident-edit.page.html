<ng-container>
  <ion-header>
    <ion-toolbar color="white">
      <ion-title>안전 사고 조사표</ion-title>
      <ion-buttons slot="end">
        <app-dismiss-button></app-dismiss-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  <ion-content>

    <form>
      <app-row>
        <app-col>
          <div class="flex_end">
            <h4>작성자 : {{ form.user_name }}</h4>
          </div>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <h4>공사현황</h4>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="현장명" [value]="form.project_name" [readonly]="false" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="수급인(원청사)" [value]="form.company_name" [readonly]="false" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input-group label="공사기간" [required]="false" [disabled]="true">
            <app-calendar name="start date" [(ngModel)]="form.construction_start_date"></app-calendar>
            ~
            <app-calendar name="end date" [(ngModel)]="form.construction_end_date"></app-calendar>
          </app-input-group>
        </app-col>
        <app-col>
          <app-input label="공정율" [value]="form.progress_rate" [readonly]="false" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="공사금액" [value]="form.construction_amount" [required]="false" [readonly]="false"
            [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="낙찰율" [value]="form.bidding_rate" [required]="false" [readonly]="false" [disabled]="true">
          </app-input>
        </app-col>
      </app-row>

      <app-row>
        <app-col>
          <h4>사고 현황</h4>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input-group label="발생일시" [required]="true" [disabled]="true">
            <app-calendar [value]="form.occured_date_only"></app-calendar>
            <app-datetime [value]="form.occured_date_time"></app-datetime>
          </app-input-group>
        </app-col>
        <app-col>
          <app-input label="발생장소" [value]="form.occured_place" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="발생공종" [value]="form.construction_ctgo" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="사고유형" [value]="form.accident_type" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="인적피해사망(명)" [value]="form.damage_dead_count" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="인적피해부상(명)" [value]="form.damage_harm_count" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="물적피해" [value]="form.damage_property" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="재해자 성명" [value]="form.damaged_person_name" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="재해자 성별" [value]="form.damaged_person_gender" [disabled]="true" placeholder="남/여">
          </app-input>
        </app-col>
        <app-col>
          <app-input label="재해자 생년월일" [value]="form.damaged_person_birth" [disabled]="true" placeholder="1900.00.00">
          </app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-input label="소속" [value]="form.damaged_person_organization" [disabled]="true"></app-input>
        </app-col>
        <app-col>
          <app-input label="특기사항" [value]="form.damaged_person_note" [disabled]="true"></app-input>
        </app-col>
      </app-row>
      <app-row>
        <app-col>
          <app-textarea label="사고경위" [value]="form.accident_note" [disabled]="true"></app-textarea>
        </app-col>
      </app-row>


      <app-row>
        <app-col>
          <app-table>
            <tbody>
              <tr>
                <th rowspan="3">사고원인</th>
                <th>관리적 요인</th>
                <td>
                  {{ form.management_reason_note_list }}
                </td>
              </tr>
              <tr>
                <th>물적 요인</th>
                <td>
                  {{ form.property_reason_note_list }}
                </td>
              </tr>
              <tr>
                <th>인적 요인</th>
                <td>
                  {{ form.human_reason_note_list }}
                </td>
              </tr>
            </tbody>
          </app-table>
        </app-col>
      </app-row>

      <app-row>
        <app-col>
          <h4>첨부서류</h4>
          <app-card color="light" class="file-card">
            <app-file-preview *ngFor="let futItem of file_data let i = index" [futItem]="futItem"
              [readonly]="updateStatus" (buttonClick)="file_data.splice(i,1)" [readonly]="true">
            </app-file-preview>
          </app-card>
        </app-col>
      </app-row>

    </form>
  </ion-content>
</ng-container>